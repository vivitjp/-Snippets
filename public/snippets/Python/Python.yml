---
#-------------------------------
# Python
#-------------------------------
- KEY: py.ç’°å¢ƒç®¡ç†.category
  CATEGORY: |
    ç’°å¢ƒè¨­å®šãƒ»ç®¡ç†

- KEY: py.install
  EXPLAIN: ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  BODY: |
    â–  æœ¬å®¶ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ https://www.python.org/downloads/

    â–  ä¸‹è¨˜ã‚’PATHã«è¿½åŠ ï¼ˆè‡ªå‹•ã§è¿½åŠ ï¼‰
      C:\Users\VIVIT\AppData\Local\Programs\Python\Python39\Scripts

    â–  åˆ¥ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æ··åœ¨OKã€VSCODEã§åˆ‡ã‚Šæ›¿ãˆå¯èƒ½

    â–  ç’°å¢ƒç®¡ç†
    pip     ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç®¡ç†
            - Pythonã®æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼
            - PyPIã‹ã‚‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
    venv    ä»®æƒ³ç’°å¢ƒã®ç®¡ç† 
            - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã«ç‹¬ç«‹ã—ãŸPythonç’°å¢ƒã‚’ä½œæˆ
    pyenv   Pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ç®¡ç† 
            - è¤‡æ•°ã®Pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»ç®¡ç†
            - ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå˜ä½ã§ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³åˆ‡æ›¿
    Poetry  ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸+ä»®æƒ³ç’°å¢ƒç®¡ç†
            - pyproject.tomlã‚’ä½¿ã£ãŸä¾å­˜é–¢ä¿‚ç®¡ç†
            - ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨å…¬é–‹ã‚’å®¹æ˜“ã«å®Ÿè¡Œå¯èƒ½
    Pipenv  ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸+ä»®æƒ³ç’°å¢ƒç®¡ç†
            - Pipfileã‚’ä½¿ç”¨ã—ã¦ä¾å­˜é–¢ä¿‚ã‚’ç®¡ç†
    Rye     ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸+ä»®æƒ³ç’°å¢ƒ+Pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
            - Pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚‚å«ã‚ã¦ã€ã™ã¹ã¦ã“ã‚Œ1ã¤ã§å®Œçµã§ãã‚‹ãƒ„ãƒ¼ãƒ«

- KEY: py.version
  EXPLAIN: pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³
  BODY: |
    py --version
    Python 3.12  3.12.1   2028å¹´10æœˆ  bugfix
    Python 3.11  3.11.7   2027å¹´10æœˆ  bugfix
    Python 3.10  3.10.13  2026å¹´10æœˆ  security
    Python 3.9   3.9.18   2025å¹´10æœˆ  security
    Python 3.8   3.8.18   2024å¹´10æœˆ  security

- KEY: py.execute
  EXPLAIN: å®Ÿè¡Œ
  BODY: |
    â–  å®Ÿè¡Œ
    VSC ã‹ã‚‰ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ—ãƒªã‚¿ãƒ¼é¸æŠã€py.exe æŒ‡å®š
    ãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µå­ file.py
    1) å³ä¸Šã®ã€Œã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§Pythonãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Ÿè¡Œã€ã‚’ã‚¯ãƒªãƒƒã‚¯
      PS B:\PATH> & c:/Windows/py.exe PATH/FILE.py
      PS B:\PATH> py FILE.py
    2) ã¾ãŸã¯ã€F5 ã§ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰

- KEY: py.pkg.pipenv
  EXPLAIN: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†
  BODY: |
    â–  1) å®Ÿè¡Œ
    pip install pipenv

- KEY: py.pkg.pip
  EXPLAIN: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  BODY: |
    â–  ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†(pip)ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
      > python.exe -m pip install --upgrade pip
      > pip install --upgrade/-U pip
      > pip install --force-reinstall --upgrade pip

- KEY: py.pkg.pip.install
  EXPLAIN: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ 
  BODY: |
    â–  ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
      > pip install <LIBRARY>
      > pip install <LIBRARY>==1.23 //ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®š
      ä¾‹: pip install pandas

    â–  ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆãƒªã‚¹ãƒˆ
      > pip list
      > pip list --format=columns | sls <LIBRARY>
      > list --outdated          # æœ€æ–°ã§ãªã„
      > pip freeze (è¦‹ã«ãã„)

    â–  ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
      > pip uninstall <LIBRARY>

    â–  ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
      > pip install --upgrade/-U <LIBRARY>

    â–  ä¾å­˜é–¢ä¿‚
      > pip show <LIBRARY>
      > pipdeptree -p LIBRARY    # è©³ç´°

- KEY: py.pkg.pip.user
  EXPLAIN: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ (ãƒ¦ãƒ¼ã‚¶)
  BODY: |
    â–  ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å…ˆã®ç¢ºèª
    > site --user-base
    C:\Users\VIVIT\AppData\Roaming\Python
    > pip install --user pandas

#-------------------------------
# VSCODE
#-------------------------------

- KEY: py.vscode
  EXPLAIN: vscode
  BODY: |
    â–  formatter
    Black Formatter  "ms-python.black-formatter"

    â–  linter
    Flake8  "ms-python.flake8"

    â–  sorter
    isort  "ms-python.isort"

    â–  å‹Checker
    Mypy Type Checker  "ms-python.mypy-type-checker"

    [setting.json]
    {
        "python.analysis.typeCheckingMode": "strict"
    }

    // VS Codeã®çµ„ã¿è¾¼ã¿å‹ãƒã‚§ãƒƒã‚¯ã‚’ã‚ªãƒ•ã«ã—ã¦ã€Mypyã®è¨­å®šã‚’å„ªå…ˆã•ã›ã‚‹å ´åˆ
    "python.analysis.typeCheckingMode": "off",
    "python.linting.mypyEnabled": true,
    "python.linting.enabled": true

#=================================================
# æ›¸å¼
#=================================================

- KEY: py.qs.category
  CATEGORY: |
    Kick Start

#-------------------------------
# ã‚³ãƒ¡ãƒ³ãƒˆ
#-------------------------------

- KEY: py.comment
  EXPLAIN: ã‚³ãƒ¡ãƒ³ãƒˆ
  BODY: |
    # ã‚³ãƒ¡ãƒ³ãƒˆ
    """ã‚³ãƒ¡ãƒ³ãƒˆ(é–¢æ•°Doc)"""
    123 \              # æ•°å¼å†…ã®ã‚³ãƒ¡ãƒ³ãƒˆNG
    + 789
    'Hello \           # ã‚«ãƒƒã‚³å†…ã®ã‚³ãƒ¡ãƒ³ãƒˆNG
    world!'

    'aaa\nbbb'         # æ”¹è¡Œ(ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—è§£é‡ˆ)
    r'aaa\nbbb'        # Row String(ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ãã®ã¾ã¾è¡¨ç¤º)

    """A simple
    module is ...
    """                # æ”¹è¡Œæ¸©å­˜(HTMLã®<pre>)

    a = ['Jan','Feb',  # é…åˆ—å†…ã¯æ”¹è¡ŒOK
    'Apr','Oct']

- KEY: py.comment.func
  EXPLAIN: ã‚¯ãƒ©ã‚¹é–¢æ•°æ—¢è¿°
  BODY: |
    """A sample module"""
    class MyClass:
        """A sample class"""
        def myfunc(self, x, y):
            """A sample function"""
            return x + y

    import mymod
    print(mymod.__doc__)                  # A sample module
    print(mymod.MyClass.__doc__)          # A sample class
    print(mymod.MyClass.myfunc.__doc__)   # A sample function

    $ python
    >>> import mymod
    >>> help(mymod)
    Help on module mymod:
    NAME
        mymod - A sample module
    FILE
        /root/mymod.py
    ...

#=================================================
# å…¥åŠ›ãƒ»å‡ºåŠ›
#=================================================

- KEY: py.io.category
  CATEGORY: |
    å…¥åŠ›ãƒ»å‡ºåŠ›

#-------------------------------
# å…¥åŠ›ãƒ»å‡ºåŠ›
#-------------------------------

- KEY: py.input
  EXPLAIN: å…¥åŠ›
  BODY: |
    a = input(msg)
    print(a)

- KEY: py.print
  EXPLAIN: å‡ºåŠ›
  BODY: |
    print(3)                  # 3
    print([1,2,3])            # [1,2,3] Listé…åˆ—
    print((1,2,3))            # (1,2,3) Tuple
    print({'A':1})            # {'A':2} Dictè¾æ›¸
    print('Hello world!')     # Hello world!
    print('Hi', var, sep='-') # Hi-...
    print('A','B')            # A B
    print('A')                # å‡ºåŠ›å¾Œæ”¹è¡Œ
    print('A', end='')        # å‡ºåŠ›å¾Œæ”¹è¡Œãªã—

    import sys
    sys.stdout.write('Hi')     #åŠè§’SPç„¡
    sys.stdout.write('World')

#-------------------------------
# ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
#-------------------------------

- KEY: py.print.format.4types
  EXPLAIN: formatç¨®é¡
  BODY: |
    â–  1 æ›¸å¼æŒ‡å®š % å€¤
    print("%.1f" % 12.345)         # 12.3

    â–  2 format(å€¤, æ›¸å¼æŒ‡å®š)
    print(format(12.345, ".1f"))   # 12.3

    â–  3 "{:æ›¸å¼æŒ‡å®š}".format(å€¤)
    print("{:.1f}".format(12.345)) # 12.3

    â–  4 f"{å€¤:æ›¸å¼æŒ‡å®š}"
    print(f"{12.345:.1f}")         # 12.3

- KEY: py.print.format1
  EXPLAIN: å‡ºåŠ›(å‹æŒ‡å®š)
  BODY: |
    print("%s" % "ABC")       # ABC
    print("%d" % 123)         # 123
    print("%f" % 1.23)        # 1.23
    print("%x" % 255)         # ff
    print("%o" % 255)         # 377
    print("%%%d" % 80)        # %80

    print('I\'m %s' % 'Tanaka')         # 1ã¤ã¯ãã®ã¾ã¾: I'm Tanaka
    print('%s is %d' % ('Tanaka', 28))  # 2ã¤ä»¥ä¸Šã¯(): Tanaka is 28
    m = 'Message'
    c = 42
    print('%s (%d)' % (m, c))           # å¤‰æ•°: Message (42)

    errMsg = "Execution"
    errCode = 15632
    msg = "ERROR: %s (%d)" % (errMsg, errCode)
    print(msg)                # ERROR: Execution (15632)

- KEY: py.print.format1.width
  EXPLAIN: å‡ºåŠ›(å¹…æŒ‡å®š)
  BODY: |
    print("|%5s|"   % 'ABC')  # |  ABC|
    print("|%-5s|"  % 'ABC')  # |ABC  |
    print("|%5d|"   % 123)    # |  123|
    print("|%-5d|"  % 123)    # |123  |
    print("|%+5d|"  % 123)    # | +123|
    print("|%5.2f|" % 1.23)   # | 1.23|
    print("|%05d|"  % 123)    # |00123|

- KEY: py.print.format23
  EXPLAIN: formaté–¢æ•°
  BODY: |
    â–  å¼•æ•°
    a = 'A'
    b = 'B'
    '{}, {}'.format(a,b)            # å¼•æ•°ä½ç½®: A, B
    '{0}, {1}'.format(a,b)          # å¼•æ•°idx: A, B
    '{a}, {b}'.format(a='1',b='2')  # å¼•æ•°å: 1, 2

    â–  ç°¡æ˜“è¡¨è¨˜
    print(f'{a}, {b}')              # å¼•æ•°åç°¡ç•¥: A, B
    pi= math.pi
    "Ï€={pi:.2f}".format(pi=pi)      # å°æ•°ç‚¹ {å¤‰æ•°:.2f}
    "Amount: {:,}".format(num1)     # æ¡è¡¨ç¤º {:,}
    '|{0:<7}|'.format('å‰')         # |å‰      |
    '|{0:^7}|'.format('ä¸­å¤®')       # |  ä¸­å¤®   |
    '|{0:>7}|'.format('å¾Œ')         # |      å¾Œ|

    â–  List(é…åˆ—)
    l = ['A', 'B']
    '{}, {}'.format(*l)             # A, B
    '{}, {}'.format(l)              # Error

    a = 2 b = 4
    l = [a, b]
    print('A:{0[0]} B:{0[1]}'.format(l)) # A:2 B:4

    â–  Tuple
    tpl = (3,5)
    print('{0[0]},{0[1]}'.format(tpl)) # 3,5

- KEY: py.print.format23.number
  EXPLAIN: format(æ•°)
  BODY: |
    decimal = 106
    format(3456, '0>8d')             # 00003456 æ•´æ•°/0åŸ‹ã‚(å³)/Min8æ¡
    format(3456, '0<8d')             # 34560000 æ•´æ•°/0åŸ‹ã‚(å·¦)/Min8æ¡
    format(3456, '0^8d')             # 00345600 æ•´æ•°/0åŸ‹ã‚(ä¸­)/Min8æ¡
    format(1.234,'0=+8f')            # +01.234000 å°æ•°ç‚¹/+-/0åŸ‹ã‚/Min8æ¡
    '{0}=Bin:{0:b}'.format(decimal)  # 106=Bin:1101010
    '{0}=Oct:{0:o}'.format(decimal)  # 106=Oct:152
    '{0}=Hex:{0:X}'.format(decimal)  # 106=Hex:6A

- KEY: py.print.format23.date
  EXPLAIN: format(æ—¥ä»˜)
  BODY: |
    import datetime
    today = datetime.date.today()
    format(today,'%Y/%m/%d')        # Date: 2019/02/04

- KEY: py.print.format4.string
  EXPLAIN: f(æ–‡å­—åˆ—)
  BODY: |
    a = "Hello"
    print(f"{a:10}")    # Hello
    print(f"{a:<10}")   # Hello
    print(f"{a:^10}")   #   Hello
    print(f"{a:>10}")   #      Hello
    print(f"{a:.<10}")  # Hello.....
    print(f"{a:.^10}")  # ..Hello...
    print(f"{a:.>10}")  # .....Hello
    print(f"{'':-<20}") # --------------------

- KEY: py.print.pprint
  EXPLAIN: pprintæ•´å½¢
  BODY: |
    dict= [
        {"Name": "John Smith", "Age":18, "GPA":[70, 30]},
        {"Name": "Jeff Brook", "Age":19, "GPA":[40, 60]},
    ]

    pprint.pprint(dict, width=40)  #å¹…(1å…¨è¦ç´ ã§æŠ˜ã‚Šè¿”ã—)

    [{'Age': 18,
      'Name': 'John Smith',
      'GPA': [70, 30]},
    {'Age': 19,
      'Name': 'Jeff Brook',
      'GPA': [40, 60]}]

    pprint.pprint(dict, depth=2)   #æ·±ã•(æŒ‡å®šä»¥ä¸Šã¯çœç•¥)

    [{'Age': 18, 'Name': 'John Smith', 'GPA': [...]},
    {'Age': 19, 'Name': 'Jeff Brook', 'GPA': [...]}]

    pprint.pprint(dict, indent=4, width=20) #ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆ

    [   {   'Age': 18,
            'Name': 'John Smith',
            'GPA': [70, 30]},
        {   'Age': 19,
            'Name': 'Jeff Brook',
            'GPA': [40, 60]}]

    pprint.pprint(dict, compact=1)  #æ”¹è¡Œæœ€å°é™

    [{'Age': 18, 'Name': 'John Smith', 'GPA': [70, 30]},
    {'Age': 19, 'Name': 'Jeff Brook', 'GPA': [40, 60]}]

- KEY: py.print.str
  EXPLAIN: str(æ”¹è¡Œãªã—)
  BODY: |
    dict= [
        {"Name": "John Smith", "Age":18, "GPA":[70, 30]},
        {"Name": "Jeff Brook", "Age":19, "GPA":[40, 60]},
    ]

    str(dict) #æ–‡å­—åˆ—(æ”¹è¡Œãªã—)
    [{'Name': 'John Smith', 'Age': 18, 'GPA': [70, 30]}, {'Name': 'Jeff Brook', 'Age': 19, 'GPA': [40, 60]}]

- KEY: py.print.pformat
  EXPLAIN: pformat(é©å®œæ”¹è¡Œ)
  BODY: |
    dict= [
        {"Name": "John Smith", "Age":18, "GPA":[70, 30]},
        {"Name": "Jeff Brook", "Age":19, "GPA":[40, 60]},
    ]

    pprint.pformat(dict) #é©å®œæ”¹è¡Œ
    [{'Age': 18, 'GPA': [70, 30], 'Name': 'John Smith'},
    {'Age': 19, 'GPA': [40, 60], 'Name': 'Jeff Brook'}]

    pprint.pformat(dict, depth=2, width=40, indent=2) #å„ç¨®ã‚ªãƒ—ã‚·ãƒ§ãƒ³
    [ { 'Age': 18,
        'GPA': [...],
        'Name': 'John Smith'},
      { 'Age': 19,
        'GPA': [...],
        'Name': 'Jeff Brook'}]

#=================================================
# å¤‰æ•°
#=================================================

- KEY: py.å¤‰æ•°.category
  CATEGORY: |
    å¤‰æ•°

#-------------------------------
# å¤‰æ•°
#-------------------------------

- KEY: py.variable
  EXPLAIN: å¤‰æ•°
  BODY: |
    value1     = 123   # å¤‰æ•°ä»£å…¥
    _value1    = 123   # privateçš„ã«
    test_value = 123   # ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹OK
    value1:int = 123   # å‹ä»˜ã

    TEST_VALUE = 123   # ç¿’æ…£çš„å®šæ•°(å…¨éƒ¨å¤§æ–‡å­—)
    PI = 3.14          # ä¸€èˆ¬çš„ãª const ãªã—

    a = b = 'A'        # ä¸€æ‹¬åˆæœŸåŒ–/ä¸€æ‹¬ä»£å…¥
    a = a * 3          # 'AAA'(æ–‡å­—åˆ—ã®æ›ã‘ç®—)

    x: int
    print(x)           # æœªå®šç¾©ã‚¨ãƒ©ãƒ¼
    print(bool(x))     # æœªå®šç¾©ã‚¨ãƒ©ãƒ¼

    a = 'A'
    print(a)           # 'A'
    del a              # å‰Šé™¤
    print(a)           # NameError: name 'a' is not defined

    x = 5
    y = [1,2,3]
    z = MyClass()
    del x, y, z        # å…¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‰Šé™¤å¯èƒ½

    a = 5 b = 3      # ã‚»ãƒŸã‚³ãƒ­ãƒ³OK
    a, b = b, a        # åˆ†å‰²ä»£å…¥
    print(a, b)        # a=3, b=5

- KEY: py.variable.global
  EXPLAIN: ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
  BODY: |
    a1 = "ABC"
    b1 = "XYZ"

    def func():
      global a1
      a1 = "---"
      b1 = "==="

    func()
    print(a1)   # ---
    print(b1)   # XYZ

- KEY: py.variable.scope
  EXPLAIN: å¤‰æ•°ã‚¹ã‚³ãƒ¼ãƒ—
  BODY: |
    dir()                 # ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ã‚³ãƒ¼ãƒ—å¤‰æ•°åãªã©ã®ãƒªã‚¹ãƒˆ
    globals()['val1']     # ã‚°ãƒ­ãƒ¼ãƒãƒ«å€¤(å¼•æ•°:å¤‰æ•°å) -> å€¤å–å¾—
    locals()              # ãƒ­ãƒ¼ã‚«ãƒ«å€¤(å¼•æ•°ãªã—)

- KEY: py.memory.address
  EXPLAIN: ãƒ¡ãƒ¢ãƒªãƒ¼å€¤
  BODY: |
    o = bytes(123)
    mo = memoryview(o)
    print(mo)  # <memory at 0x000002B2AAA78C40>

#=================================================
# å‹
#=================================================

- KEY: py.å‹.category
  CATEGORY: |
    å‹

#-------------------------------
# å‹(v3.9ä»¥ä¸Š)
#-------------------------------
- KEY: py.type
  EXPLAIN: å¤‰æ•°å‹(v3.9ä»¥ä¸Š)
  BODY: |
    bool      çœŸå½å€¤              True/False
    str       æ–‡å­—åˆ—              'Hello',"Hello"
    int       æ•´æ•°                1234
    int       2é€²æ•°               0b11000
    int       8é€²æ•°               0o777
    int       16é€²æ•°              0xffff
    long[X]   å»ƒæ­¢=>intçµ±åˆ       922337203688L
    float     æµ®å‹•å°æ•°ç‚¹          1.234, 1.2e3
    complex   è™šæ•°(complex)       3.14j
    list      ãƒªã‚¹ãƒˆ              [1,2,3] => Python3.8:from typing import List
    tuple     ã‚¿ãƒ—ãƒ«              (1,2,3) => Python3.8:from typing import Tuple
    dict      è¾æ›¸                {'A':1} => Python3.8:from typing import Dict
    NoneType  ä»–è¨€èªNull          None

    * list[int|str]  UNIONå‹ã¯ v3.10ä»¥ä¸Š
    * æµ®å‹•å°æ•°ç‚¹ (0.1+0.2)==0.3 -> False   ä¸¸ã‚èª¤å·®ã‚ã‚Š

    â–  å‹åˆ¤å®š: type()
    var1 = 100                          print(type(var1) is int)
    var2 = 123.12                       print(type(var2) is float)
    var3 = True                         print(type(var3) is bool)
    var4 = "abc"                        print(type(var4) is str)
    var5 = ["a", "b"]                   print(type(var5) is list)
    var6 = ("a", "b")                   print(type(var6) is tuple)
    var7 = {"a", "b"}                   print(type(var7) is set)
    var8 = {"a": "a"}                   print(type(var8) is dict)
    # from types import NoneType
    var9 = None                         print(type(var9) is NoneType)

- KEY: py.type.constant
  EXPLAIN: çµ„ã¿è¾¼ã¿å®šæ•°
  BODY: |
    False                               # bool å‹ã®å½å€¤
    True                                # bool å‹ã®çœŸå€¤
    None                                # å‹ NoneType ã®å”¯ä¸€å€¤
    NotImplemented                      # äºŒé …æ¼”ç®—ã®ãƒ¡ã‚½ãƒƒãƒ‰ã«é–¢ã™ã‚‹å½“åˆ¥ãªå€¤
    Ellipsis                            # ="..." æ‹¡å¼µã‚¹ãƒ©ã‚¤ã‚¹æ§‹æ–‡ã‚„ãƒ¦ãƒ¼ã‚¶å®šç¾©ã‚³ãƒ³ãƒ†ãƒŠãƒ‡ãƒ¼ã‚¿å‹ã®ç‰¹æ®Šå€¤
    __debug__                           # Python ãŒ -O ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æœ‰åŠ¹ã«ã—ã¦é–‹å§‹ã•ã‚ŒãŸã®ã§ãªã‘ã‚Œã°çœŸ

#-------------------------------
# å‹å®šç¾©å…¨èˆ¬
#-------------------------------
- KEY: py.type.å‹å®šç¾©
  EXPLAIN: å¤‰æ•°å‹ä¸€è¦§
  BODY: |
    â–  å‹å®šç¾©(Primitives)
    var1: int = 100
    var2: float = 123.12 
    var3: bool = True
    var4: str = "abc"

    â–  å‹å®šç¾©(çµ„ã¿è¾¼ã¿ã®ã‚³ãƒ³ãƒ†ãƒŠå‹)
    var5: list[str] = ["a", "b"]        # Python 3.9+
    var6: tuple[int,int] = (1, 2)       # Python 3.9+
    var7: set[str] = {"a", "b"}         # Python 3.9+
    var8: dict[str,int] = {"a": 1}      # Python 3.9+
    var9: NoneType = None

    â–  ã‚¿ãƒ—ãƒ«ã®ç‰¹åˆ¥ãªæŒ‡å®šæ–¹æ³•
    tuple[int, str, float]              # å›ºå®šé•·ã‚¿ãƒ—ãƒ«
    tuple[int, ...]                     # å¯å¤‰é•·ã‚¿ãƒ—ãƒ«(å…¨è¦ç´ åŒå‹)

    â–  typing ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰ã®ä¸»è¦ãªå‹
    from typing import Optional, Union, List, Dict, Set, Tuple, Any, Callable

    List[T]       items: List[str] = ["a", "b"]      # list[T] ã®å¤ã„æ›¸ãæ–¹(Python 3.8ä»¥å‰å‘ã‘)
    Dict[K, V]    user: Dict[str, int] = {"id": 1}   # dict[K, V] ã®å¤ã„æ›¸ãæ–¹
    Tuple[...]    point: Tuple[int, int] = (10, 20)  # tuple[...] ã®å¤ã„æ›¸ãæ–¹
    Set[T]        ids: Set[int] = {1, 2, 3}          # set[T] ã®å¤ã„æ›¸ãæ–¹

    Optional[T]   value: Optional[str] = None        # T ã¾ãŸã¯ None ã‚’è¨±å®¹ã™ã‚‹
    Union[T1,T2]  data: Union[int, str] = 100        # è¤‡æ•°ã®å‹ã®ã†ã¡ã©ã‚Œã‹ã‚’è¨±å®¹ã™ã‚‹
    Any           anything: Any = 1.23               # ä»»æ„ã®å‹ã‚’è¨±å®¹ã™ã‚‹(å‹ãƒã‚§ãƒƒã‚¯ç„¡åŠ¹)
    Callable      func: Callable[int,str] = func     # é–¢æ•°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹ãƒ’ãƒ³ãƒˆ

    â–  æ–°è¨˜æ³• (Python 3.10ä»¥é™)
    data: int | str = 100               # Union[int, str]
    value: str | None = None            # Optional[str]

    â–  ç‰¹æ®Šãªå‹ãƒ’ãƒ³ãƒˆ
    None                                # å€¤ãŒãªã„ã“ã¨ã‚’æ˜ç¤ºã™ã‚‹ï¼ˆé–¢æ•°ã®æˆ»ã‚Šå€¤ãªã©ï¼‰
    NoReturn                            # é–¢æ•°ãŒå€¤ã‚’è¿”ã•ãšã«çµ‚äº†ã™ã‚‹ã“ã¨ï¼ˆä¾‹å¤–ç™ºç”Ÿãªã©ï¼‰ã‚’ç¤ºã™
    Iterable[T]                         # ãƒ«ãƒ¼ãƒ—å¯èƒ½ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆãƒªã‚¹ãƒˆã€ã‚¿ãƒ—ãƒ«ã€ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãªã©ï¼‰ã®æ±ç”¨å‹
    Iterator[T]                         # next()ã§è¦ç´ ã‚’å–ã‚Šå‡ºã›ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ±ç”¨å‹
    Sequence[T]                         # é †åºä»˜ã‘ã‚‰ã‚ŒãŸã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆãƒªã‚¹ãƒˆã€ã‚¿ãƒ—ãƒ«ãªã©ï¼‰ã®æ±ç”¨å‹
    Mapping[K, V]                       # ã‚­ãƒ¼ã¨å€¤ã®ãƒšã‚¢ã‚’æŒã¤ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆè¾æ›¸ãªã©ï¼‰ã®æ±ç”¨å‹
    TypeVar                             # ã‚¸ã‚§ãƒãƒªãƒƒã‚¯å‹ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®å‹å¤‰æ•°

#-------------------------------
# é–¢æ•°å®£è¨€ã®å‹
#-------------------------------
- KEY: py.type.é–¢æ•°å®£è¨€ã®å‹
  EXPLAIN: é–¢æ•°å®£è¨€ã®å‹
  BODY: |
    def FUNCTION_NAME(param:TYPE): -> RETURN_TYPE
      ...
      return VALUE

    â–  å¼•æ•°ã¨æˆ»ã‚Šå€¤ã®å‹æŒ‡å®š
    def add(x: int, y: int) -> int:
        return x + y

    ä¾‹: result = add(3, 5)              # 8

    â–  Any
    from typing import Any
    def process(value: Any) -> Any:
        return value

    â–  Optional
    from typing import Optional
    def get_length(value: Optional[str]) -> int:
        if value is None:
            return 0
        else:
            return int(value)

    ä¾‹: length = get_length("7")        # 7
    ä¾‹: length = get_length(None)       # 0

    â–  list
    def sum_numbers(numbers: list[int]) -> list[int]:   # Python 3.9+
        return [x * 2 for x in numbers]

    ä¾‹: doubled = sum_numbers([1, 2])   # [2, 4]

    â–  tuple
    from typing import tuple
    def get_coordinates(numbers: list[int]) -> tuple[int, int]:   # Python 3.9+
        return (numbers[0], numbers[1])

    ä¾‹: x, y = get_coordinates([10, 20]) 
    ä¾‹: [x, y] = get_coordinates([10, 20])  #åŒã˜

    â–  dict
    from typing import dict   
    def invert_mapping(mapping: dict[str, int]) -> dict[int, str]:   # Python 3.9+
        return {v: k for k, v in mapping.items()} 

    ä¾‹: inverted = invert_mapping({'a': 1, 'b': 2})

    â–  UNION
    from typing import Union
    def process(value: Union[int, str]) -> int:  # int | str  Python 3.10+
        if isinstance(value, int):
            return value
        else:
            return int(value)

    â–  Mapping
    def get_config() -> Mapping[str, int]:
      config_data = {"max_users": 100, "timeout": 30}
      return config_data

    ä¾‹: config = get_config()            # {'max_users': 100, 'timeout': 30}

    â–  ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°
    from typing import Callable 
    def execute_callback(callback: Callable[[int, int], int], a: int, b: int) -> int:
        return callback(a, b)

    â–  TypedDict ã«ã‚ˆã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå®šç¾©
    from typing import TypedDict, List

    class Company(TypedDict):
        """ä¼šç¤¾ã®æƒ…å ±ã‚’è¡¨ã™å‹ä»˜ãè¾æ›¸"""
        name: str
        founded_year: int
        departments: List[str]
        is_active: bool

    data: Company = {
        "name": "Tech Corp",
        "founded_year": 2005,
        "departments": ["Engineering", "Sales"],
        "is_active": True
    }

#=================================================
# ãƒ–ãƒ¼ãƒªã‚¢ãƒ³ãƒ»æ•°å­—å‹
#=================================================

- KEY: py.ãƒ–ãƒ¼ãƒªã‚¢ãƒ³ãƒ»æ•°å­—å‹.category
  CATEGORY: |
    ãƒ–ãƒ¼ãƒªã‚¢ãƒ³ãƒ»æ•°å­—å‹

#-------------------------------
# å‹ï¼šBoolean, byte, Numbers
#-------------------------------

- KEY: py.type.boolean
  EXPLAIN: å‹(çœŸå½å€¤)
  BODY: |
    bool(1)               = True
    bool(0)               = False

- KEY: py.type.byte
  EXPLAIN: å‹(ãƒã‚¤ãƒˆ)
  BODY: |
    bytes(2)             = b'\x00\x00'            # *immutable(å¤‰æ›´ä¸å¯)
    bytes('ABC','utf-8') = b'ABC'                 # utf-8
    bytearray(2)         = bytearray(b'\x00\x00') # mutable(å¤‰æ›´å¯)
    bytearray([50,99])   = b'2c'                  # ASCIIã‚³ãƒ¼ãƒ‰å€¤

- KEY: py.type.numbers
  EXPLAIN: å‹(æ•°)
  BODY: |
    int(0)                              # æ•´æ•°: 0
    int(10.5)                           # æ•´æ•°: 10
    int('12')                           # æ•´æ•°: 12
    int('01001',2)                      # æ•´æ•°: 9
    float(3.4)                          # æµ®å‹•å°æ•°ç‚¹: 3.4
    complex('3+2j')                     # è¤‡ç´ æ•°: (3+2j)
    bin(0)                              # Binary: '0b0'
    oct(0)                              # Octal: '0o0'
    hex(0)                              # Hex: '0x0'

- KEY: py.type.numbers.method
  EXPLAIN: å‹(æ•°)ãƒ¡ã‚½ãƒƒãƒ‰
  BODY: |
    abs(-3.4)                           # çµ¶å¯¾å€¤: 3.4
    pow(2,3)                            # å†ªä¹—: 8
    pow(10, -3)                         # å†ªä¹—: 0.001
    divmod(7, 2)                        # å•†ã¨ä½™ã‚Š(Tuple): (3,1)
    round(1.49)                         # 1(å¶æ•°ä¸¸ã‚)
    round(1.50)                         # 2(å¶æ•°ä¸¸ã‚)
    round(3.141592, 2)                  # å››æ¨äº”å…¥: 3.14
    round(-1.49)                        # 1(å¶æ•°ä¸¸ã‚)
    round(-1.5)                         # 1(å¶æ•°ä¸¸ã‚)

#=================================================
# æ–‡å­—åˆ—å‹
#=================================================

- KEY: py.æ–‡å­—åˆ—å‹.category
  CATEGORY: |
    æ–‡å­—åˆ—å‹

#-------------------------------
# å‹ï¼šChar, String
#-------------------------------

- KEY: py.char.escape
  EXPLAIN: ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—æ–‡å­—
  BODY: |
    \æ”¹è¡Œ                               # BackSlashã¨\nç„¡è¦–
    \\                                  # ãƒãƒƒã‚¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥(\)
    \'                                  # ã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆ(')
    \"                                  # ãƒ€ãƒ–ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆ(")
    \a                                  # ãƒ™ãƒ«(BEL)
    \b                                  # ãƒãƒƒã‚¯ã‚¹ãƒšãƒ¼ã‚¹(BS)
    \f                                  # ãƒ•ã‚©ãƒ¼ãƒ ãƒ•ã‚£ãƒ¼ãƒ‰(FF)
    \n                                  # æ”¹è¡Œ(LF)
    \r                                  # å¾©å¸°(CR)
    \t                                  # æ°´å¹³ã‚¿ãƒ–(HT)
    \v                                  # å‚ç›´ã‚¿ãƒ–(VT)
    \nnn                                # Octal(8é€²è¡¨è¨˜æ–‡å­—)
    \xnn                                # Hex(16é€²è¡¨è¨˜æ–‡å­—)
    \uxxxx                              # Unicode(u'\u3042')
    \U....xxxx                          # Unicode
    \N{name}                            # UnicodeDBChar

- KEY: py.char.code
  EXPLAIN: æ–‡å­—ã‚³ãƒ¼ãƒ‰
  BODY: |
    utf-8                               # Unicodeã®æ–‡å­—ç¬¦å·åŒ–
    sjis                                # Shift_JIS 
    euc_jp                              # Unixç’°å¢ƒ
    cp932                               # Windowsç’°å¢ƒã®æ—¥æœ¬èªã®æ–‡å­—ã‚³ãƒ¼ãƒ‰

    str = 'ã‚'
    str = str.encode('utf-8')           # b'\xe3\x81\x82'
    str = str.decode('utf-8')           # ã‚
    str = str.encode('sjis')            # b'\x82\xa0'
    str = str.decode('sjis')            # ã‚

- KEY: py.type.char
  EXPLAIN: æ–‡å­—åˆ—å‹
  BODY: |
    chr(65)                             # æ–‡å­—ã‚³ãƒ¼ãƒ‰ã‹ã‚‰æ–‡å­—: 'A'
    chr(0x3042)                         # æ–‡å­—ã‚³ãƒ¼ãƒ‰ã‹ã‚‰æ–‡å­—: 'ã‚'
    ord('A')                            # æ–‡å­—ã‹ã‚‰æ–‡å­—ã‚³ãƒ¼ãƒ‰: 65
    ascii(1)                            # '1'
    ascii('ã‚¢')                         # ã‚¢ã‚¹ã‚­ãƒ¼ã‚³ãƒ¼ãƒ‰: '\\u30a2'

- KEY: py.type.string.len
  EXPLAIN: æ–‡å­—åˆ—é•·ã•
  BODY: |
    txt = 'ABC'                         # 'ABC'
    len(txt)                            # æ–‡å­—é•·ã•: 3
    [NG] txt.len()                      # Python ã«ã¯å­˜åœ¨ã›ãš

- KEY: py.type.string.join.split
  EXPLAIN: æ–‡å­—åˆ—çµåˆãƒ»åˆ†é›¢
  BODY: |
    ite = ['A','B','C']
    ','.join(ite)                       # *Iterå‚ç…§: 'A,B,C'
    txt = 'A B C'
    txt.split(' ')                      # ['A','B','C']

- KEY: py.type.string.join.strip
  EXPLAIN: æ–‡å­—åˆ—ãƒˆãƒªãƒŸãƒ³ã‚°
  BODY: |
    txt = '  H  '
    txt.strip()                         # 'Hi'
    txt.rstrip()                        # '  H'
    txt.lstrip()                        # 'H  '

- KEY: py.type.string.fill
  EXPLAIN: æ–‡å­—åˆ—åŸ‹ã‚
  BODY: |
    txt = 'Hi'
    txt.center(5)                       # '  Hi '
    txt.center(5,'*')                   # '**Hi*'
    txt.ljust(5)                        # 'Hi   '
    txt.ljust(5,'*')                    # 'Hi***'
    txt.rjust(5)                        # '   Hi'
    txt.rjust(5,'*')                    # '***Hi'
    txt.zfill(5)                        # '000Hi'

- KEY: py.type.string.index
  EXPLAIN: æ–‡å­—åˆ—Index
  BODY: |
    txt = 'Hello'
    txt[0]                              # 'H'
    txt[1]                              # 'e'
    txt[0:2]                            # 'He'
    txt[3:]                             # 'lo'
    txt[:3]                             # 'Hel'
    txt[-3]                             # 'l'
    txt[-3:]                            # 'llo'

- KEY: py.type.string.find
  EXPLAIN: æ–‡å­—åˆ—æ¤œç´¢
  BODY: |
    txt.startswith('A')                 # True
    txt.endswith('Z')                   # False
    txt.lower().startswith('a')         # CaseInsãƒˆãƒªãƒƒã‚¯
    txt.lower().endswith('z')           # CaseInsãƒˆãƒªãƒƒã‚¯

    â–  in(æœ‰ç„¡)
    'ab' in txt                         # True/False

    â–  find(ä½ç½®å–å¾—)
    txt.find('ab')                      # (idx:0~): 3
    txt.find('xy')                      # (ä¸ä¸€è‡´): -1 <--æ³¨æ„
    txt.find('ab', 2, 5)                # (KEY,Start,end)
    txt.lower().find('a')               # CaseInsãƒˆãƒªãƒƒã‚¯
    txt.rfind('ab')                     # å¾Œæ–¹æ¤œç´¢(idx:0~): 3

    â–  index(ä½ç½®å–å¾—)
    txt.index('ab')                     # (idx:0~): 3
    txt.index('xy')                     # (ä¸ä¸€è‡´): Error! <--æ³¨æ„

    â–  count(Hitæ•°)
    txt.count('ab')                     # Hitæ•°: 3
    txt.count('xy')                     # Hitæ•°: 0
    txt.count('ab', 2, 5)               # (KEY,Start,end)
    txt.lower().count('ab')             # CaseInsãƒˆãƒªãƒƒã‚¯

- KEY: py.type.string.find.re
  EXPLAIN: æ–‡å­—åˆ—æ­£è¦æ¤œç´¢
  BODY: |
    import re                           # ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®import

    txt = 'This is a pen. That are not a pens.'

    â–  å˜æ•°æ¤œç´¢
    res = re.search('pen',txt)          # å¼•æ•°(æ¤œç´¢Key, æ¤œç´¢å…ˆæ–‡å­—åˆ—)
    print(res)                          # <re.Match object; span=(10, 13), match='pen'>
    res.group()                         # pen  (*å˜æ•°Hit)
    res.start()                         # 10
    res.end()                           # 13
    res.span()                          # (10, 13) ã‚¿ãƒ—ãƒ«
    [NG] res.match()

    â–  è¤‡æ•°æ¤œç´¢(çµæœæ–‡å­—åˆ—)
    res = re.findall('pen', txt)
    print(res)                          # ['pen','pen']
    print(len(res))                     # 2
    res = re.findall('that|this', txt, flags=re.IGNORECASE)
    print(res)                          # ['This', 'That']
    print(len(res))                     # 2

    â–  è¤‡æ•°æ¤œç´¢(çµæœIndices)
    x = [res.span() for res in re.finditer('pen', txt, flags=re.IGNORECASE)]
    print(x)                            # [(10, 13), (29, 32)]
    print(len(x))                       # 2

- KEY: py.type.string.replace
  EXPLAIN: æ–‡å­—åˆ—ç½®æ›
  BODY: |
    txt = 'ab cd ab ob cd'
    res = txt.replace(' ', '-')         # ab-cd-ab-ob-cd
    res = txt.replace('ab','AB',1)      # AB cd ab ob cd *å›æ•°åˆ¶é™

    â–  ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—æ–‡å­—
    txt = 'ab\ncd\nab\n'
    res = txt.replace('\n', '')         # abcdab

    â–  è¤‡æ•°å®Ÿè¡Œã®é †åº
    txt = 'AB AB'
    res = txt.replace('A','B').replace('B','A')     # å¤±æ•—: AA AA
    res = txt.translate(str.maketrans('AB','BA'))   # æˆåŠŸ: BA BA (*strã¯æ–‡å­—åˆ—å‹)

    â–  æ­£è¦è¡¨ç¾
    import re
    txt = 'ab cd ef'
    res = re.sub('ab|cd', 'XX', txt)    # XX XX ef
    res = re.sub('ab|cd', 'XX', txt, 1) # XX cd ef *å›æ•°æŒ‡å®š

- KEY: py.type.string.encode
  EXPLAIN: æ–‡å­—ã‚³ãƒ¼ãƒ‰å¤‰æ›
  BODY: |
    var = 'ã‚'
    res = var.encode('utf-8')           # b'\xe3\x81\x82'
    org = res.decode('utf-8')           # 'ã‚'

    res = var.encode('sjis')            # b'\x82\xa0'
    org = res.decode('sjis')            # 'ã‚'

    res = var.encode('cp932')           # b'\x82\xa0'
    org = res.decode('cp932')           # 'ã‚'

    res = var.encode('euc_jp')          # b'\xa4\xa2'
    org = res.decode('euc_jp')          # 'ã‚'

    res = var.encode('iso2022_jp')      # b'\x1b$B$"\x1b(B'
    org = res.decode('iso2022_jp')      # 'ã‚'

- KEY: py.type.string.codeDetect
  EXPLAIN: æ–‡å­—ã‚³ãƒ¼ãƒ‰æ¤œå‡º
  BODY: |
    file = 'sample.txt'
    with open(file, 'rb') as f:         # mode='rb'
      rawData = f.read()

    from chardet import detect
    res = detect(rawData)['encoding']   # utf-8

#=================================================
# æ§‹é€ ä½“
#=================================================

- KEY: py.æ§‹é€ ä½“.category
  CATEGORY: |
    æ§‹é€ ä½“(List, Tuple, Set, Dict)

- KEY: py.struct.4types
  EXPLAIN: 4æ§‹é€ ä½“
  BODY: |
    myList:  list  = []   # myList = [1,2,"A","B"]
    myTuple: tuple = ()   # myTuple= (1,"A")
    mySet:   set   = {}   # mySet  = (1,2,"A","B")
    myDict:  dict  = {}   # myDict = {1:"A", 2:"B"}

    â–  List
    bool([])    # False
    bool([1])   # True

    â–  Tuple
    bool(())    # False
    bool((1))   # True

    â–  Set
    bool({})    # False
    bool({1})   # True

    â–  Dict
    bool({})    # False
    bool({1:1}) # True

#-------------------------------
# æ§‹é€ ä½“ï¼šList é…åˆ—
#-------------------------------
- KEY: py.struct.list.category
  CATEGORY: |
    Listå‹

- KEY: py.struct.list.1.new
  EXPLAIN: ç”Ÿæˆ/å–å¾—
  BODY: |
    â–  ç”Ÿæˆ
    a = [1, 2, "a"]
    a: list = [1, 2]                    # å‹æŒ‡å®š
    a: list = [1, "A"]                  # å‹æŒ‡å®š
    a: list = [1, "A", 2]               # å‹æŒ‡å®š
    a: list[int] = [1, 2]               # å‹æŒ‡å®š: intã®ã¿
    [NG] a: list[int] = [1, "A"]        # å‹Error
    a: list[int|str] = [1, "A"]         # å‹æŒ‡å®š: UNIONå‹ v3.10ä»¥ä¸Š
    a: list[list[int]] = [[1, 2], [3, 4]]       # å‹æŒ‡å®š: å¤šæ¬¡å…ƒé…åˆ—
    a: list[object] = [1, "A", [1, 2], {"A":1}] # å‹æŒ‡å®š: ä»»æ„å‹
    a: list = list()                    # ç©ºé…åˆ—ç”Ÿæˆ
    a: list = []                        # ç©ºé…åˆ—ç”Ÿæˆ
    a: list = [0] * 5                   # è¦ç´ æ•°5ã®é…åˆ—ç”Ÿæˆ [0,0,0,0,0]

    â–  å–å¾—
    a: list[int] = [1, 2, 3, 4, 5, 6, 7]
    a[1]                                # è¦ç´ : 2
    a[:]                                # å…¨éƒ¨: [1, 2, 3, 4, 5, 6, 7]
    a[1:3]                              # nï½m-1: [2, 3]
    a[3:]                               # nï½æœ€å¾Œ: [4, 5, 6, 7]
    a[:3]                               # æœ€åˆï½m-1: [1, 2, 3]
    a[1:4:2]                            # så€‹ã¨ã°ã—: [2, 4]
    a[1::2]                             # så€‹ã¨ã°ã—: [2, 4, 6]
    a[-3]                               # å¾Œn: 5
    a[-5:-1]                            # å¾Œnï½å¾Œm: [3, 4, 5, 6]
    a[-1:-5]                            # å¾Œnï½å¾Œm: []

- KEY: py.struct.list.3.set
  EXPLAIN: ä»£å…¥/è¿½åŠ 
  BODY: |
    â–  ä»£å…¥
    a = [1,2,3]
    a[1] = 9                            # [1, 9, 3]
    a[1] = ['A','B']                    # [1, ['A', 'B'], 3]

    â–  è¿½åŠ 
    a = [1, 2]
    a.append(3)                         # [1, 2, 3]
    [NG] a += 3                         # Error ã‚ªãƒšãƒ©ãƒ³ãƒ‰ã«ã‚ˆã‚‹è¿½åŠ 

    b: list[int] = [1, 2]
    b.insert(1, 5)                      # [1, 5, 2]

    c: list[int | list[int]] = [1, 2]
    c.insert(1, [7])                    # [1, [7], 2]

    d: list[int] = [1, 2]
    d.extend([9])                       # [1, 2, 9]

    e = ["A", "B"]
    e += "X"                            # æ–‡å­—åˆ—OK ['A', 'B', 'X']

    f = ["A", "B"]
    f += "XY"                           # æ–‡å­—åˆ—OK ['A', 'B', 'X', 'Y']

    g = ["A", "B"]
    g += ["X", "Y"]                     # List ['A', 'B', 'X', 'Y']

    h = ["A", "B"]
    h += ("X", "Y")                     # Tuple ['A', 'B', 'X', 'Y']

    i = ["A", "B"]
    i += {"X", "Y"}                     # Set ['A', 'B', 'X', 'Y']

- KEY: py.struct.list.4.replace
  EXPLAIN: ç½®æ›/æŒ¿å…¥/å‰Šé™¤
  BODY: |
    â–  ç½®æ›/æŒ¿å…¥
    a = [1,2,3]
    a[1] = 3                            # ç½®æ› [1, 3, 3]
    [NG] a[100] = 3                     # Indexè¶…éï¼šlist assignment index out of range
    a[1:1] = "A"                        # æŒ¿å…¥ [1, 'A', 3, 3]
    a[1:1] = ["A"]                      # æŒ¿å…¥ [1, 'A', 'A', 3, 3]

    b = ["A", "B", "C"]
    b[1:1] = "X"                        # æŒ¿å…¥ ['A', 'X', 'B', 'C']

    c = ["A", "B", "C"]
    c[1:1] = ["X", "Y"]                 # æŒ¿å…¥ ['A', 'X', 'Y', 'B', 'C']

    d = ["A", "B", "C"]
    d[1:2] = ["X", "Y"]                 # ç½®æ›æŒ¿å…¥ ['A', 'X', 'Y', 'C']

    e = ["A", "B", "C"]
    e[1:6] = ["X", "Y"]                 # ç½®æ›æŒ¿å…¥ ['A', 'X', 'Y'] *indexè¶…éOK

    â–  å‰Šé™¤
    a = [1, 2, 3]
    del a[0]                            # [2, 3]

    b = [1, 2, 3]
    del b[0:2]                          # [3]

    c = [1, 2, 3, 1]
    c.remove(1)                         # [2, 3, 1]

- KEY: py.struct.list.ASMD
  EXPLAIN: é…åˆ—åŒå£«ã®å››å‰‡æ¼”ç®—
  BODY: |
    a: list = [1, 2]
    b: list = [2, 3]

    c = a + b                           # [1, 2, 2, 3]
    c = a.extend([2, 3])                # [1, 2, 2, 3]
    [NG] c = a - b                      # NG -> 
    [NG] c = a * b
    [NG] c = a / b
    [NG] c = a + 1
    [NG] c = a - 1

    c = a * 2                           # [1, 2, 1, 2]
    [NG] c = a / 2

    â–  numpy
    pip install numpy

    import numpy as np

    list_a = [10, 20, 30]
    list_b = [1, 2, 3]
    a = np.array(list_a)                # NumPyé…åˆ—ã«å¤‰æ›
    b = np.array(list_b)                # NumPyé…åˆ—ã«å¤‰æ›

    result_add = a + b                  # [11 22 33]
    result_sub = a - b                  # [ 9 18 27]
    result_mul = a * b                  # [10 40 90]
    result_div = a / b                  # [10. 10. 10. ]

- KEY: py.struct.list.commonMethod
  EXPLAIN: join/len/count/in/åˆ†å‰²ä»£å…¥
  BODY: |
    var1 = ['A','B','C']

    â–  join
    ','.join(var1)                      # A,B,C

    â–  len
    len(var1)                           # 3

    â–  count
    a = ['A','AB','AA']
    len(a)                              # 3  é…åˆ—æ•°
    a.count('A')                        # 1  å®Œå…¨ä¸€è‡´æ•°

    â–  in
    'A' in var1                         # True

    â–  åˆ†å‰²ä»£å…¥
    x, y, z = var1                      # 
    print(x, y, z)                      # "A", "B", "C"
    [NG] x, y = var1                    # Error å¤‰æ•°ä¸è¶³

- KEY: py.struct.list.copy
  EXPLAIN: ã‚³ãƒ”ãƒ¼
  BODY: |
    import copy

    â–  å‚ç…§ã‚³ãƒ”ãƒ¼
    a = [1, 2, 3]
    b = a                               # å‚ç…§ã‚³ãƒ”ãƒ¼
    a[0] = 9

    print(a)                            # [9, 2, 3]
    print(b)                            # [9, 2, 3]

    â–  æµ…ã„(Shallow)ã‚³ãƒ”ãƒ¼
    a = [1, 2, [1, 2]]
    b1 = copy.copy(a)                   # æµ…ã„(Shallow)ã‚³ãƒ”ãƒ¼1
    b2 = a[:]                           # æµ…ã„(Shallow)ã‚³ãƒ”ãƒ¼2
    b3[:] = a[:]                        # æµ…ã„(Shallow)ã‚³ãƒ”ãƒ¼3
    a[0] = 9                            # æµ…ã„ãƒ¬ãƒ™ãƒ«ã§ã¯ b ã«åæ˜ ã•ã‚Œãªã„
    a[2][0] = 9                         # æ·±ã„ãƒ¬ãƒ™ãƒ«ã§ã¯ b ã«åæ˜ ã•ã‚Œã‚‹

    print(a)                            # [9, 2, [9, 2]]
    print(b1)                           # [1, 2, [9, 2]]
    print(b2)                           # [1, 2, [9, 2]]
    print(b3)                           # [1, 2, [9, 2]]

    â–  æ·±ã„(Deep)ã‚³ãƒ”ãƒ¼
    a = [1, 2, [1, 2]]
    b = copy.deepcopy(a)                # æ·±ã„(Deep)ã‚³ãƒ”ãƒ¼
    a[0] = 9
    a[2][0] = 9

    print(a)                            # [9, 2, [9, 2]]
    print(b)                            # [1, 2, [1, 2]]

- KEY: py.struct.list.valRef
  EXPLAIN: å€¤æ¸¡ã—/å‚ç…§æ¸¡ã—
  BODY: |
    â–  list, dict, set ã¯å‚ç…§æ¸¡ã—
    def funcVal(x):                     # å€¤æ¸¡ã—
      x[0] = 9
    # return x ä¸è¦

    x = [7, 7]
    y = funcVal(x)                      # [9, 7]

    â–  primitives(int, str, bool, float) ã¯å€¤æ¸¡ã—
    def funcVal(x):                     # å€¤æ¸¡ã—
      x = 9
      return x

    x = 7
    y = funcVal(x)                      # x:7, y:9

- KEY: py.struct.list.loop
  EXPLAIN: ãƒ«ãƒ¼ãƒ— For in/Iterator
  BODY: |
    â–  int
    a = [1, 2, 3, 4]
    for n in a:
      print(n)

    b = [[1, 2], [3, 4]]
    for x in b:
      for y in x:
        print(y)

    â–  Iterator
    it = iter([1, 2])                   # Iterator
    next(it)                            # 1
    next(it)                            # 2
    next(it)                            # Error

- KEY: py.struct.list.enumerate
  EXPLAIN: è¦ç´ ã®Tupleå¤‰æ›(for index,n in Loop)
  BODY: |
    arr = ["A", "B", "C"]

    x = enumerate(arr)                  # æˆ»ã‚Šå€¤: iterator
    print(list(x))                      # [(0,'A'),(1,'B'),(2,'C')]

    x = enumerate(c * 2 for c in arr)   # æˆ»ã‚Šå€¤: iterator
    print(list(x))                      # [(0,'AA'), (1,'BB'), (2,'CC')]

    x = enumerate(arr, 3)
    x = enumerate(arr, start=3)         # æˆ»ã‚Šå€¤: iterator
    print(list(x))                      # [(3,'A'),(4,'B'),(5,'C')]

    for i, v in enumerate(arr):
        print(i, v)                     # 0 A  1 B  2 C

    â–  iter() vs enumerate()
    arr = [2, 4, 6]
    a: int = reduce(lambda k, j: k + j, iter(arr), 0)
    b: int = sum(value for index, value in enumerate(arr))

- KEY: py.struct.list.[]
  EXPLAIN: å†…åŒ…è¡¨è¨˜[for in ...]
  BODY: |
    â–  å†…åŒ…è¡¨è¨˜ã®æˆ»ã‚Šå€¤ã¯ Iterator
    a = [1, 2, 3] b = [4, 5, 6]

    [x - 1 for x in a]                      # [0,1,2]
    [x * 2 for x in a if x == 3]            # [6]
    [[x, x * 2] for x in a]                 # [[1,2],[2,4],[3,6]] é…åˆ—
    [(x, x * 2) for x in a]                 # [(1,2),(2,4),(3,6)] ã‚¿ãƒ—ãƒ«
    [x * y for x in a for y in b]           # [4,5,6,8,10,12,12,15,18] é…åˆ—xé…åˆ—

    [a[i] * b[i] for i in range(len(a))]    # [4,10,18] *éæ¨å¥¨
    [a[i] * b[i] for i, _ in enumerate(a)]  # [4,10,18] *æ¨å¥¨

- KEY: py.struct.list.all
  EXPLAIN: all/any
  BODY: |
    â–  all
    all([1, 2, 3])                      # True
    all([1, 2, None])                   # False
    all([-1, -2, -3])                   # True
    all([])                             # True
    all([None])                         # False

    â–  any
    any([1, 2, None])                   # True
    any([-1, -2, -3])                   # True
    any([])                             # False
    any([None])                         # False

- KEY: py.struct.list.max
  EXPLAIN: max/min/sum
  BODY: |
    â–  max
    max([-1, 0, 1, 2])                  # 2
    [NG] max([])                        # Error
    [NG] max([None])                    # Error
    max(["A", "Z", "M"])                # Z
    [NG] max(["A", 1, 7])               # Erroræ··åœ¨

    â–  min
    min([-1, 0, 1, 2])                  # -1
    [NG] min([])                        # Error
    [NG] min([None])                    # Error

    â–  sum
    sum([1, 2, 3, 4, 5])                # 15
    sum([-1, -2, -3])                   # -6
    sum([])                             # 0
    [NG] sum([None])                    # Error
    [NG] sum([1, 2, "A"])               # Error
    [NG] sum(["A", "B"])                # Error

- KEY: py.struct.list.filter
  EXPLAIN: filter/map/reduce/zip(åˆä½“)
  BODY: |
    â–  filter
    arr = [1, 2, 3, 4, 5]
    a = filter(lambda k: (k % 2 == 1), arr)  # æ³¨æ„æˆ»ã‚Šå€¤: iterator
    print(list(a))                           # [1, 3, 5]
    print(list(a))                           # [] <= a ã®ä¸­èº«ã¯ç©º

    â–  map
    arr = [1, 2, 3, 4, 5]
    a = map(lambda k: k * 2, arr)       # æ³¨æ„æˆ»ã‚Šå€¤: iterator
    print(list(a))                      # [2, 4, 6, 8, 10]
    print(list(a))                      # 2å›ç›®ã‚³ãƒ¼ãƒ« [] <= a ã®ä¸­èº«ã¯ç©º

    â–  reduce
    from functools import reduce
    arr = [2, 4, 6]
    a: int = reduce(lambda k, j: k + j, iter(arr), 0)             # 12
    b: int = reduce(lambda k, j: int(k + (j / 2)), iter(arr), 0)  # 6

    â–  zip
    arr = [1, 2, 3, 4, 5]
    a = zip(arr, ["A", "B", "C"])       # æ³¨æ„æˆ»ã‚Šå€¤: iterator
    print(list(a))                      # [(1,'A'),(2,'B'),(3,'C')]
    print(list(a))                      # 2å›ç›®ã‚³ãƒ¼ãƒ« [] <= a ã®ä¸­èº«ã¯ç©º

    header = ["name", "age"]
    info = [["Kevin", 23], ["John", 45]]
    res = [dict(zip(header, n)) for n in info]

    # [{'name': 'Kevin', 'age': 23}, {'name': 'John', 'age': 45}]

- KEY: py.struct.list.sort
  EXPLAIN: ã‚½ãƒ¼ãƒˆ
  BODY: |
    â–  Mutable                           # å¼•æ•°è‡ªä½“ãŒå¤‰åŒ–
    score1 = [5, 8, 2, 4]
    score1.sort()                       # [2, 4, 5, 8]

    score = [("A", 4), ("B", 8), ("C", 2)]
    score.sort(key=lambda x:x[1])       # [('C', 2), ('A', 4), ('B', 8)]

    â–  Immutable                         # å¼•æ•°ã‹ã‚‰æˆ»ã‚Šå€¤ã‚’åˆ†é›¢
    a = [4, 3, 1, 2, 10]
    list(reversed(a))                   # [10, 2, 1, 3, 4]
    list(sorted(a))                     # [1, 2, 3, 4, 10]
    list(sorted(a, reverse=True))       # [10, 4, 3, 2, 1]

    b = ["F", "A", "1", "2", "10"]
    list(sorted(b))                     # ['1','10','2','A','F']

    â–  ãƒŠãƒãƒ¥ãƒ©ãƒ«ã‚½ãƒ¼ãƒˆ
    # pip install natsort
    from natsort import natsorted
    c = ["F", "A", "1", "2", "10"]
    list(natsorted(c))                  # ['1','2','10','A','F']

- KEY: py.struct.tuple.category
  CATEGORY: |
    Tupleå‹

- KEY: py.struct.tuple
  EXPLAIN: ã‚¿ãƒ—ãƒ«
  BODY: |
    a = (1, 2, 3)
    print(type(a))                      # Class 'tuple'

    [NG] a[0] = 2                       # Error(ä»£å…¥ä¸å¯)
    print(a[0], a[1])                   # 1 2

    x = 1
    print(type(x))                      # Class 'int' æ³¨æ„
    x = (1,)
    print(type(x))                      # Class 'tuple'

- KEY: py.struct.dict.category
  CATEGORY: |
    Dictå‹

- KEY: py.struct.dict
  EXPLAIN: è¾æ›¸
  BODY: |
    â–  ç”Ÿæˆ
    dict({"A": 3, "B": 8})              # {'A':3, 'B':8}  ğŸ”´å‹è¨­å®šä¸å¯!

    x = ("A", "B")
    dict.fromkeys(x, 0)                 # {'A': 0, 'B': 0}

    â–  ä»£å…¥
    d["A"] = 7                          # {'A': 7, 'B': 8}

    â–  å–å¾—
    print(d.get("D"))                   # None(Errorã§ã¯ãªã„)
    print(d.get("B"))                   # 8

    â–  å–å¾—(value)
    d.pop("A")                          # 7
    [NG] d.push({...})

    â–  å–å¾—((key,value))
    d.popitem()                         # ('B', 8)

    â–  å‰Šé™¤
    d = dict({"A": 3, "B": 8})
    del d["B"]

    â–  å‰Šé™¤(åˆ¤å®š)
    # del d["D"]                        # KeyError: å­˜åœ¨ã—ãªã„
    if "D" in d:                        # å‰Šé™¤å‰ã«è¦ç´ åˆ¤å®š
      del d["D"]

    â–  å‰Šé™¤(è¤‡æ•°) NG
    [NG] del d["A", "B"]                # KeyError: è¤‡æ•°ä¸å¯

    â–  å…¨è¦ç´ å‰Šé™¤
    d.clear()

- KEY: py.struct.dict.KV
  EXPLAIN: è¾æ›¸(KVãƒ¡ã‚½ãƒƒãƒ‰)
  BODY: |
    d = dict({"A": 12, "B": 8})
    print(d)

    â–  KEYS & VALUES
    for key, value in d.items():
        print(key, value)               # A 12 B 8

    â–  KEYS
    for key in d.keys():
        print(key, d[key])              # A 12 B 8

    â–  VALUES
    for value in d.values():
        print(value)                    # 12 8

    â–  å†…åŒ…è¡¨è¨˜
    # KV äº¤æ›(KeyãŒsträ»¥å¤–ã§å‹error)
    d = {v: k for k, v in d.items()}

- KEY: py.struct.set.category
  CATEGORY: |
    Setå‹

- KEY: py.struct.set
  EXPLAIN: ã‚»ãƒƒãƒˆ
  BODY: |
    â–  ç”Ÿæˆ
    a = set([5, 1, 2, 1, 5])
    a = {1, 2, 3}                       # ç°¡æ˜“ç”Ÿæˆ

    â–  å†…åŒ…è¡¨è¨˜
    a = { i % 5 for i in range(10) }    # {0, 1, 2, 3, 4} *é‡è¤‡æ’é™¤

    â–  è¦ç´ æ•°
    len(a)                              # è¦ç´ æ•°

    â–  è¿½åŠ (å˜æ•°è¦ç´ )
    a.add(5)                            # {1, 2, 3, 5}

    â–  è¿½åŠ (è¤‡æ•°è¦ç´ )
    a.update([3, 4])                    # {1, 2, 3, 4, 5}

    â–  å‰Šé™¤
    a = set([5, 1, 2, 1])
    [NG] a.remove(6)                    # (éå­˜åœ¨)å‰Šé™¤: Error
    a.remove(2)                         # å‰Šé™¤
    a.discard(7)                        # (éå­˜åœ¨)å‰Šé™¤(No Error)

    â–  Pop
    x = a.pop()

    â–  å…¨å‰Šé™¤
    a.clear()

    # â–  ã‚³ãƒ”ãƒ¼
    a = set([1, 2, 3])
    b = a                               # å‚ç…§ã‚³ãƒ”ãƒ¼
    c = a.copy()                        # æµ…ã„ã‚³ãƒ”ãƒ¼(Shallow Copy)

- KEY: py.struct.set.subset
  EXPLAIN: ã‚»ãƒƒãƒˆ(ã‚µãƒ–ã‚»ãƒƒãƒˆ)
  BODY: |
    a = {1, 2, 3, 4, 5} b = {2, 3, 4}

    a.isdisjoint(b)                     # å…±é€šè¦ç´ æœ‰:False

    â–  ã‚µãƒ–ã‚»ãƒƒãƒˆ
    b.issubset(a)                       # True: b ã¯ a ã®ã‚µãƒ–ã‚»ãƒƒãƒˆ
    b <= a                              # True: b ã¯ a ã®ã‚µãƒ–ã‚»ãƒƒãƒˆ
    b < a                               # True: çœŸéƒ¨åˆ†é›†åˆ(set <= other and set != other)

    â–  ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚»ãƒƒãƒˆ
    a.issuperset(b)                     # True: a ã¯ b ã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚»ãƒƒãƒˆ
    a >= b                              # True: a ã¯ b ã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚»ãƒƒãƒˆ
    a > b                               # True: çœŸä¸Šä½é›†åˆ(set >= other and set != other)

- KEY: py.struct.set.DUIX
  EXPLAIN: ã‚»ãƒƒãƒˆ(æ“ä½œ)
  BODY: |
    a = {1, 2, 3}
    b = {3, 4}

    1 in a                              # True: åŒ…å«
    1 not in a                          # False: éåŒ…å«

    â–  Difference
    x = a - b                           # DIFF: {1, 2}
    x = a.difference(b)

    â–  Union
    x = a | b                           # UNION: {1, 2, 3, 4}
    x = a.union(b)

    â–  Intersect
    x = a & b                           # INTERSECT: {3}
    x = a.intersection(b)

    â–  XOR(Union-Intersect)
    x = a ^ b                           # XOR: {1, 2, 4}
    x = a.symmetric_difference(b)

- KEY: py.struct.range.category
  CATEGORY: |
    Rangeå‹

- KEY: py.struct.range
  EXPLAIN: é…åˆ—ç”Ÿæˆ(range)
  BODY: |
    â–  æˆ»ã‚Šå€¤ã¯ Iterator  *é…åˆ—ã§ã¯ãªã„
    range(5)                            # [0, 1, 2, 3, 4]
    range(2, 5)                         # (å§‹,çµ‚-1): [2, 3, 4]
    range(2, 10, 3)                     # (é–‹,çµ‚-1,é–“): [2, 5, 8]
    [NG] range(5, 1)                    # (é–‹<çµ‚-1): []
    range(5, 1, -1)                     # é€†é †(é–‹<çµ‚-1,é–“): [5, 4, 3, 2]
    [NG] range(-1, -5)                  # (-é–‹>-çµ‚): ç©º[]
    range(-5, -1)                       # (-é–‹<-çµ‚): [-5, -4, -3, -2]
    for _ in range(3):                  # åå¾©(æ•°)
    [NG] range(1.1)                     # éæ•´æ•°: Error

#=================================================
# ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹
#=================================================

- KEY: py.object.category
  CATEGORY: |
    ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹

#-------------------------------
# å‹ï¼šObject
#-------------------------------

- KEY: py.type.object.method
  EXPLAIN: é–¢æ•°
  BODY: |
    o = object()                # ç”Ÿæˆ:              <object object at 0x7fe2e5ecff20>
    id(o)                       # ID(ãƒ¡ãƒ¢ãƒªã‚¢ãƒ‰ãƒ¬ã‚¹): 140612496850720
    callable(o)                 # å‘¼ã³å‡ºã—å¯èƒ½:      False
    hash(o)                     # ãƒãƒƒã‚·ãƒ¥å€¤:        0
    repr(o)                     # æ–‡å­—åˆ—:            0
    type(o)                     # objå‹:            <class 'str'>

#=================================================
# Generic
#=================================================

- KEY: py.Generic.category
  CATEGORY: |
    Generic

- KEY: py.Generic.TypeVar
  EXPLAIN: ã‚¸ã‚§ãƒãƒªãƒƒã‚¯(TypeVar)
  BODY: |
    â–  ã‚¸ã‚§ãƒãƒªãƒƒã‚¯å‹å¤‰æ•°ã®å®šç¾©
    from typing import TypeVar
    T = TypeVar("T")                    # T ã¯ä»»æ„ã®å‹ï¼ˆint, str, listãªã©ï¼‰

    def identity(item: T) -> T:
        """å—ã‘å–ã£ãŸå¼•æ•°ã‚’ãã®ã¾ã¾è¿”ã™ã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•°"""
        return item

    â–  è¤‡æ•°ã®å‹
    from typing import TypeVar, Dict, List, Union

    T = TypeVar("T")  # è¾æ›¸ã®ã‚­ãƒ¼ã®å‹
    V = TypeVar("V")  # è¾æ›¸ã®å€¤ã®å‹

    def get_keys_as_list(data: Dict[T, V]) -> List[T]:
        """
        è¾æ›¸ã‚’å—ã‘å–ã‚Šã€ãã®ã‚­ãƒ¼ã‚’ãƒªã‚¹ãƒˆã«ã—ã¦è¿”ã™
        ã‚­ãƒ¼ã¨å€¤ã®å‹ã¯å®Ÿè¡Œæ™‚ã«æ¨è«–ã•ã‚Œã‚‹
        """
        return list(data.keys())

    data = {"apple": 150, "banana": 80}
    keys = get_keys_as_list(data)       # T ã¯ strã€V ã¯ int ã¨æ¨è«–ã•ã‚Œã‚‹
    print(keys)                         # ['apple', 'banana']

- KEY: py.Generic.TypedDict
  EXPLAIN: ã‚¸ã‚§ãƒãƒªãƒƒã‚¯(TypedDict)
  BODY: |
    â–  å‹åˆ¶é™
    from typing import TypeVar, List
    Numeric = TypeVar("Numeric", int, float) # int ã¾ãŸã¯ float ã®ã¿

    def calculate_average(data: List[Numeric]) -> float:
        if not data:
            return 0.0
        return sum(data) / len(data)    # æ•°å€¤æ¼”ç®—ãŒå®‰å…¨ã«è¡Œãˆã‚‹

    # ã‚µãƒ³ãƒ—ãƒ«å®Ÿè¡Œ
    int_list = [10, 20, 30]
    average_int = calculate_average(int_list)

    float_list = [1.5, 2.5, 3.0]
    average_float = calculate_average(float_list)

    â–  TypedDict ã«ã‚ˆã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå®šç¾©
    from typing import TypedDict, List

    class Company(TypedDict):
        """ä¼šç¤¾ã®æƒ…å ±ã‚’è¡¨ã™å‹ä»˜ãè¾æ›¸"""
        name: str
        founded_year: int
        departments: List[str]
        is_active: bool

    data: Company = {
        "name": "Tech Corp",
        "founded_year": 2005,
        "departments": ["Engineering", "Sales"],
        "is_active": True
    }

    â–  TypeVar ã‚’ä½¿ã£ãŸã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•°ã®å®šç¾©
    from typing import TypeVar, TypedDict, List

    CompanyLike = TypeVar("CompanyLike", bound=Company)

    def get_company_name(company_data: CompanyLike) -> str:
        return company_data["name"]     # name ã‚­ãƒ¼ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ãŒä¿è¨¼

    # Company å‹ã®ãƒ‡ãƒ¼ã‚¿
    tech_corp: Company = {
        "name": "Tech Corp",
        "founded_year": 2005,
        "departments": ["Engineering", "Sales"],
        "is_active": True
    }

    name = get_company_name(tech_corp)  # "Tech Corp"

- KEY: py.Generic.TypedDict
  EXPLAIN: è¤‡æ•°ã®ã€Œä¼¼ãŸæ§‹é€ ã€ã‚’æ‰±ã†å ´åˆ
  BODY: |
    Company ä»¥å¤–ã« Employee ã¨ã„ã†ä¼¼ãŸæ§‹é€ ã®å‹ãŒã‚ã‚Šã€ä¸¡æ–¹ã«å¯¾ã—ã¦ä½¿ãˆã‚‹ã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•°ã‚’å®šç¾©

    from typing import TypedDict

    class Company(TypedDict):
        name: str

    class Employee(TypedDict):
        name: str

    NamedObject = TypeVar("NamedObject", Company, Employee)

    def get_name(obj: NamedObject) -> str:
        return obj["name"]

    c: Company = {"name": "ABC Inc.", ...}
    e: Employee = {"name": "Alice", ...}

    print(get_name(c))
    print(get_name(e))

#=================================================
# æ¼”ç®—å­
#=================================================

- KEY: py.æ¼”ç®—å­.category
  CATEGORY: |
    æ¼”ç®—å­

#-------------------------------
# æ¼”ç®—å­
#-------------------------------

- KEY: py.operator.math
  EXPLAIN: æ¼”ç®—å­(æ•°)
  BODY: |
    a = 10
    b = 2
              operator.truth(a)       # True
    +a        operator.pos(a)         # +a: 10
    -a        operator.neg(a)         # -a: -10
    a + b     operator.add(a,b)       # 12
    a - b     operator.sub(a,b)       # 8
    a * b     operator.mul(a,b)       # 20
    a / b     operator.truediv(a,b)   # 5.0
    a // b    operator.floordiv(a,b)  # åˆ‡æ¨é™¤ç®—: 5
    a % b     operator.mod(a,b)       # ä½™: 0
    a ** b    operator.pow(a,b)       # ä¹—ç®—: 100
              operator.invert(a)      # bitåè»¢: -11
    a & b     operator.and_(a,b)      # bitANDç©: 2
    a | b     operator.or_(a,b)       # bitå’Œ: 10
    a ^ b     operator.xor(a,b)       # bitXORæ’ä»–å’Œ: 8
    a << b    operator.lshift(a,b)    # å·¦ã‚·ãƒ•ãƒˆ: 40
    a >> b    operator.rshift(a,b)    # å³ã‚·ãƒ•ãƒˆ: 2

- KEY: py.operator.math.i
  EXPLAIN: æ¼”ç®—å­(æ•°i)
  BODY: |
    a = 10
    b = 2
    operator.iadd(a,b)       # a+b: 12
    operator.isub(a,b)       # a-b: 8
    operator.imul(a,b)       # a*b: 20
    operator.itruediv(a,b)   # a/b: 5.0
    operator.imod(a,b)       # a%b: 0
    operator.ipow(a,b)       # a**b: 100
    operator.ifloordiv(a,b)  # a//b: 5
    operator.iand(a,b)       # a&b: 2
    operator.ior(a,b)        # a|b: 10
    operator.ixor(a,b)       # a^b: 8
    operator.ilshift(a,b)    # a<<b: 40
    operator.irshift(a,b)    # a>>b: 2

- KEY: py.operator.compare
  EXPLAIN: æ¼”ç®—å­(æ¯”è¼ƒ)
  BODY: |
    a = 5
    b = 8
    operator.eq(a,b)        # a==b: False
    operator.ne(a,b)        # a!=b: True
    operator.lt(a,b)        # a<b:  True
    operator.gt(a,b)        # a>b:  False
    operator.le(a,b)        # a<=b: True
    operator.ge(a,b)        # a>=b: False

    a = 'AB'
    b = 'XY'
    operator.concat(a,b)    # a+b(çµåˆ): 'ABXY'
    operator.iconcat(a,b)   # a+b(çµåˆ): 'ABXY'

    a = True
    b = False
    a and b                 # AND: False
    a or b                  # OR: True
    not a                   # NOT: False

    a = -10
    b = 0
    a and b                 # AND: False
    a or b                  # OR: True

#=================================================
# æ§‹æ–‡
#=================================================

- KEY: py.æ§‹æ–‡.category
  CATEGORY: |
    æ§‹æ–‡

#-------------------------------
# æ§‹æ–‡
#-------------------------------

- KEY: py.syntax.if
  EXPLAIN: åˆ¶å¾¡æ§‹æ–‡(if)
  BODY: |
    n = 3
    if n == 1:
        x = "OK"
    elif n == 2:
        x = "NG"
    else:
        x = "NO"

    print(x) # ã‚¹ã‚³ãƒ¼ãƒ—å¤–ã®xã‚‚OK

    n=1
    if n == 1: x = "OK"
    else     : x = "NO"

    x = "OK" if n == 1 else "NO"

- KEY: py.syntax.ifElseLine
  EXPLAIN: ä¸‰é …åˆ†å²
  BODY: |
    â–  ä¸€èˆ¬å¤‰æ•°
    <TRUE_RESULT> if <CONDITION> else <FALSE_RESULT>
    res = 100 if True else 1

    â–  é…åˆ—(è¦ç´ æ•°2)
    [Falseã®å€¤, Trueã®å€¤][æ¡ä»¶å¼]
    status = "active"
    res = ["ã‚ªãƒ•", "ã‚ªãƒ³"][status == "active"]
    è£œè¶³: Trueã¯æ•°å€¤ã¨ã—ã¦1ã€Falseã¯0ã¨ã—ã¦æ‰±ãˆã‚‹

    â–  é…åˆ—(å¤‰æ›)
    numbers = [1, 2, 3, 4, 5, 6]        # [0, 2, 0, 4, 0, 6]
    # å¶æ•°ãªã‚‰ãã®ã¾ã¾ã€å¥‡æ•°ãªã‚‰ 0 ã«å¤‰æ›
    res = [num if num % 2 == 0 else 0 for num in numbers]

    â–  é…åˆ—(ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°)
    numbers = [1, 2, 3, 4, 5, 6]        # [2, 4, 6]
    res = [num for num in numbers if num % 2 == 0]

    â–  è¾æ›¸(ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°)
    d = {'a':1, 'b':2, 'c':3, 'd':4}    # {'b':2, 'd':4}
    res = {k: v for k, v in d.items() if v % 2 == 0}

    â–  Noneåˆä½“æ¼”ç®—å­
    key = None
    res = key if key is not None else 'Stranger'

    key = "Alice"
    res = key if key is not None else 'Stranger'

    â–  orè¨˜æ³•
    name = None
    res = name or 'Stranger'

- KEY: py.syntax.while
  EXPLAIN: åˆ¶å¾¡æ§‹æ–‡(while)
  BODY: |
    n = 1
    while n < 10:
      n += 1
      if n > 8:  break     # ãƒ«ãƒ¼ãƒ—è„±å‡º
      if n == 4: continue  # å‡¦ç†ä¸­æ–­ã—ã¦Topã«ã‚¸ãƒ£ãƒ³ãƒ—
      print(n)             # 2 3 [4:ã‚¸ãƒ£ãƒ³ãƒ—] 5 6 7 8[break]

- KEY: py.syntax.for
  EXPLAIN: åˆ¶å¾¡æ§‹æ–‡(for)
  BODY: |
    arr = [1,2,3]
    for n in arr:
        print(n)

    arr = [1,2,3]
    for n in arr:
        print(n)
    else: 
        print('END')

    arr = ["A", "B", "C"]
    for i, v in enumerate(arr): # indexãŒå¿…è¦ãªå ´åˆ
        print(i, v)             # 0 A  1 B  2 C

    for n in (1, 2, 3):       # Tuple
      print(n)                # 1 2 3

    dict = {'A':1,'B':2}
    for k in dict:            # Dict
      print(k, dict[k])       # A 1 B 2

    for c in '123':           # æ–‡å­—åˆ—
      print(c)                # 1 2 3

    for c in u'ã‚ã„ã†':       # Unicode
      print(c)                # ã‚ ã„ ã†

    for n in range(5):        # é€£æ•°(0-4)
      print(n)                # 0 1 2 3 4

    for f in open('a.txt'):   # Fileèª­ã¿å–ã‚Š
      print(f)

- KEY: py.syntax.match
  EXPLAIN: åˆ¶å¾¡æ§‹æ–‡(=switch)
  BODY: |
    â–  v3.10 ä»¥å‰
    def http_error(status):
      error_string = {
        400: "Bad request",
        404: "Not found",
        418: "I'm a teapot",
      }
      return error_string.get(status, "Something's wrong with the Internet")

    â–  match(int)
    match status:
      case 400:
        return "Bad request"
      case 404:
        return "Not found"
      case 418:
        return "I'm a teapot"
      case _:
        return "Something's wrong with the Internet"

    â–  match(tuple)
    match point:
      case (0, 0):
        return "Center"
      case (0, y):
        return f"Y={y}"
      case (x, 0):
        return f"X={x}"
      case (x, y):
        return f"X={x}, Y={y}"
      case _:
        raise ValueError("Not a point")

    â–  match(class)
    class Point:
      x: int
      y: int

    match point:
      case Point(x=0, y=0):
        return "Center"
      case Point(x=0, y=defY):
        return f"Y={defY}"
      case Point(x=defX, y=0):
        return f"X={defX}"
      case Point(x=defX, y=defY):
        return f"X={defX}, Y={defY}"
      case _:
        raise ValueError("Not a point")

    â–  match(classes)
    class Point:
    class Rectangle:
    class Circle:

    match shape:
      case Point():
        return f"Point({shape.x}, {shape.y})"
      case Rectangle():
        return f"Rectangle({shape.width}, {shape.length})"
      case Circle():
        return f"Circle({shape.radius})"
      case _:
        return "Unknown shape"

#-------------------------------
# ä¾‹å¤–ãƒ»ãƒ‡ãƒã‚°
#-------------------------------

- KEY: py.exception
  EXPLAIN: ä¾‹å¤–
  BODY: |
    import random
    try:
      a = random.randint(1, 10)
      if a%2 == 1:
          print("Success")
      else:
          raise Exception("messgae")
    except SystemError as e: print("SystemErrorMsg: ", e)
    except IOError as e:     print("IOErrorMsg: ", e)
    except IndexError as e:  print("IndexErrorMsg: ", e)
    except Exception as e:   print("ExceptionMsg: ", e)
    # ä¸€èˆ¬ä¾‹å¤–ã¯ç‰¹å®šã‚¨ãƒ©ãƒ¼ã®å¾Œã«å®šç¾©
    except Exception as e:   raise e                  # å…ƒã®ä¾‹å¤–ãã®ã¾ã¾å†ç™ºç”Ÿ
    except Exception:        raise MyErr()            # æ–°ä¾‹å¤–ç™ºç”Ÿ
    except Exception as e:   raise MyErr() from e     # å…ƒ+æ–°ã§ä¾‹å¤–ç™ºç”Ÿ
    except Exception:        raise MyErr() from None  # å…ƒç„¡è¦–->æ–°ä¾‹å¤–ç™ºç”Ÿ
    # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆä¾‹å¤–
    except:                  print("Unknown Error")
    else:
      print("No Error Occurred")
    finally:
      print("Finally Msg")

- KEY: py.exception.assert
  EXPLAIN: ä¾‹å¤–(assert)
  BODY: |
    try:
      status = 'B'
      assert status=='B', 'Got Error'   # 'B'ä»¥å¤–ã§Assert
      print(status)                     # B

      status = 'A'
      assert status=='B', 'Got Error'   # 'B'ä»¥å¤–ã§Assert
      print(status)                     # Raise Error!!
    except AssertionError as e:
      print("AssertionError: ", e)

- KEY: py.debug
  EXPLAIN: ãƒ‡ãƒã‚°
  BODY: |
    try:
      if __debug__:
          print('Debug Mode')
      if not 1==2:
          raise AssertionError
    except AssertionError as e:
        print("AssertionError: ", e)

    breakpoint()                        # å®Ÿè¡ŒSTOP -> å…¥åŠ› exit ã§çµ‚äº†

    a = 3
    print('OK' if a<10 else 'No')       # ä¸‰é …æ¼”ç®—å­: OK

#=================================================
# é–¢æ•°
#=================================================

- KEY: py.é–¢æ•°.category
  CATEGORY: |
    é–¢æ•°

#-------------------------------
# é–¢æ•°
#-------------------------------

- KEY: py.func.param
  EXPLAIN: é–¢æ•°(å¼•æ•°)
  BODY: |
    â–  å¼•æ•°
    def func(arg1:int, arg2:int)->None:
        print(arg1, arg2)

    func(1, 2)                  # 1 2
    func(arg1=1, arg2=2)        # 1 2
    func(arg2=1, arg1=2)        # 2 1

    â–  å¼•æ•°(default)
    def func(arg1:int, arg2:int=7)->None:
        print(arg1, arg2)

    func(1, 2)                  # 1 2
    func(1)                     # 1 7 (defaultå€¤)
    func(arg1=1)                # 1 7 (defaultå€¤)
    func(arg1=1, arg2=None)     # 1 7 (defaultå€¤)

    â–  å¼•æ•°(defaultæ‚ªä¾‹)
    def func(arg1, arg2=[]):    # æ‚ªä¾‹: defaultå€¤ãŒå‚ç…§ []
        arg2.append(arg1)
        print(arg1, arg2)

    func(1)                     # 1 [1]
    func(2)                     # 2 [1, 2] <== Wrong

    â–  å¼•æ•°(defaultï¼šä¸Šè¨˜é–¢æ•°ã®ä¿®æ­£ç‰ˆ)
    def func(arg1, arg2=None):
        if not arg2:
            arg2 = []
        arg2.append(arg1)
        print(arg1, arg2)

    â–  ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¼•æ•°ã€æ®‹ä½™å¼•æ•°ã€å¯å¤‰é•·å¼•æ•°
    def greet(name: str, greeting: str = "Hello", *args: str) -> str:
        message = f"{greeting}, {name}!"
        for extra in args:
            message += f" {extra}"
        return message

    msg = greet("Alice")                      # "Hello, Alice!"
    msg = greet("Bob", "Hi")                  # "Hi, Bob!"
    msg = greet(name="Bob", greeting="Hey")   # "Hey, Bob!"
    msg = greet(name="Bob", "Hi", "Welcome")  # "Hi, Bob! Welcome"

    â–  å¼•æ•°(æ®‹ä½™å¼•æ•°ï¼š+åå‰ä»˜ã)
    def func(*arg, more):               # åå‰ä»˜ãå¿…é ˆ
        print(arg, more)

    func(more=5)                        # () 5
    func(1, more=5)                     # (1,) 5
    func(1, 2, 3, more=5)               # (1, 2, 3) 5
    [NG] func(1)
    [NG] func(1, 2, 3)
    [NG] func(more=5, 1)

    â–  å¼•æ•°(åå‰ä»˜ã)
    def func(*, arg, more):
        print(arg, more)

    func(arg=1, more=5)                 # 1 5
    [NG] func(1)
    [NG] func(1, 2, 3)
    [NG] func(1, arg=1, more=5)

    â–  å¼•æ•°(æ®‹ä½™å¼•æ•°+åå‰ä»˜ãæ®‹ä½™å¼•æ•°)
    def func(*arg, **kwargs):           # keyWordArguments
        print(arg, kwargs)

    [NG] def func(**kwargs, *arg):      # ãƒ‘ãƒ©ãƒ¡ã‚¿ä½ç½®åå¯¾

    func(1, 2, 3)                       # (1, 2, 3) {}
    func(arg1=1)                        # () {'arg1': 1}
    func(1, 2, arg1=1, abc=3)           # (1, 2) {'arg1': 1, 'abc': 3}
    [NG] func(arg1=1, 2, abc=3, 4)      # Error

- KEY: py.func.factory
  EXPLAIN: ãƒ•ã‚¡ã‚¯ãƒˆãƒªé–¢æ•°
  BODY: |
    from typing import Callable
    def factory() -> Callable:
      def add(a: int) -> int:
          return a + 1
      return add                        # æˆ»ã‚Šå€¤:é–¢æ•°

    factAdd = factory()
    print(factAdd(1))                   # 2

- KEY: py.func.factory.curry
  EXPLAIN: ã‚«ãƒªãƒ¼é–¢æ•°
  BODY: |
    from typing import Callable
    def curry(a: int = 0) -> Callable:
      def add(b: int) -> int:
          value = a + b
          return value
      return add                        # æˆ»ã‚Šå€¤:é–¢æ•°

    curryAdd = curry(3)
    print(curryAdd(2))                  # 5

    print(curry(3)(2))                  # 5

- KEY: py.func.factory.closure
  EXPLAIN: ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£é–¢æ•°
  BODY: |
    from typing import Callable
    def factory() -> tuple[Callable, int]:
        sum: int = 0
        def add(a: int) -> int:
            global sum
            sum += a
            return a + 1
        return (add, sum)

    (factAdd, sum) = factory()
    print(factAdd(3), sum)              # 4 3
    print(factAdd(2), sum)              # 3 5
    print(factAdd(1), sum)              # 2 6

- KEY: py.func.lambda
  EXPLAIN: ãƒ©ãƒ ãƒ€é–¢æ•°
  BODY: |
    â–  ä¸€èˆ¬é–¢æ•°
    def lambdaWrap(func: Callable, numbers: list[int]) -> list[int]:
        return [func(n) for n in numbers]

    â–  ãƒ©ãƒ ãƒ€é–¢æ•°
    result = lambdaWrap(lambda n: n + 1, arr)     # [2, 3, 4]

    arr = [1, 2, 3]
    a = map(lambda k: k * 2, arr)                 # [2, 4, 6]
    a = filter(lambda k: k % 2, arr)              # [1, 3]

    from functools import reduce
    a: int = reduce(lambda k, j: k + j, iter(arr), 0)             # 12
    b: int = reduce(lambda k, j: int(k + (j / 2)), iter(arr), 0)  # 6

    â–  ãƒªã‚¹ãƒˆå†…åŒ…è¡¨è¨˜æ¯”è¼ƒ
    res = map(lambda num: num * 2, numbers)
    res = [num * 2 for num in numbers]

    â–  è­¦å‘Š: lambdaã‚’ã‚¢ã‚µã‚¤ãƒ³ã™ã‚‹ãª(ãƒ‡ãƒãƒƒã‚°ã®å›°é›£ã•)
    f = lambda x, *args, rival, **kwargs: [rival, args, kwargs]
    f(1, 2, 3, rival="ruby", name="python")
    # => ['ruby', (2, 3), {'name': 'python'}]
    ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ‰: PEP 8ã§ã¯ã€Œlambdaå¼ã‚’ç›´æ¥å¤‰æ•°ã«ä»£å…¥ã™ã¹ãã§ã¯ãªã„ã€ã¨å¼·ãæ¨å¥¨

#=================================================
# ä»–
#=================================================

- KEY: py.ä»–.category
  CATEGORY: |
    ä»–

#-------------------------------
# ä»–
#-------------------------------

- KEY: py.eval.exec.compile
  EXPLAIN: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
  BODY: |
    â–  æ•°å¼ã®æ–‡å­—åˆ—åŒ–
    a = eval('2**10')  # 1024
    x = 2
    a = eval('x**10')  # 1024

    â–  é–¢æ•°ã®æ–‡å­—åˆ—åŒ–
    str = """
    def test(num):
      return num * 2
    """ 

    â–  exec
    a = exec(str)
    print('result', a)   # None å€¤ãŒè¿”ã‚‰ãªã„

    â–  compile
    b = compile(str, filename='< string >', mode='exec')  # AST Obj
    a = b(2)             # 4

#=================================================
# Class
#=================================================

- KEY: py.Class.category
  CATEGORY: |
    Class

#-------------------------------
# Class
#-------------------------------

- KEY: py.class.sample
  EXPLAIN: ã‚µãƒ³ãƒ—ãƒ«
  BODY: |
    import abc  # æŠ½è±¡åŸºåº•ã‚¯ãƒ©ã‚¹ã®ãŸã‚ã«abcãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

    class Animal(abc.ABC):  # æŠ½è±¡åŸºåº•ã‚¯ãƒ©ã‚¹ã®å®šç¾©
        """å‹•ç‰©ã‚’è¡¨ã™æŠ½è±¡åŸºåº•ã‚¯ãƒ©ã‚¹ã€‚"""
        
        # ã‚¯ãƒ©ã‚¹å¤‰æ•°ï¼šå…¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§å…±æœ‰ã•ã‚Œã‚‹
        kingdom = "Animalia"

        def __init__(self, name: str, sound: str):
            """ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ï¼šã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°ã‚’åˆæœŸåŒ–ã™ã‚‹ã€‚"""
            self._name = name  # ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°ï¼ˆéå…¬é–‹ã‚’æ„å›³ã™ã‚‹å±æ€§ã«ã¯æ…£ç¿’ã¨ã—ã¦_ã‚’ä»˜ã‘ã‚‹ï¼‰
            self.sound = sound

        @abc.abstractmethod
        def speak(self):
            """æŠ½è±¡ãƒ¡ã‚½ãƒƒãƒ‰ï¼šç¶™æ‰¿å…ˆã§å¿…ãšå®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚"""
            pass

        @property  # ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼šå±æ€§ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶å¾¡ã™ã‚‹ (ã‚²ãƒƒã‚¿ãƒ¼)
        def name(self) -> str:
            """åå‰ã‚’å–å¾—ã™ã‚‹ã‚²ãƒƒã‚¿ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ã€‚"""
            return self._name

        @name.setter  # ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼šå±æ€§ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶å¾¡ã™ã‚‹ (ã‚»ãƒƒã‚¿ãƒ¼)
        def name(self, new_name: str):
            """åå‰ã‚’è¨­å®šã™ã‚‹ã‚»ãƒƒã‚¿ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ã€‚ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚å¯èƒ½ã€‚"""
            if not isinstance(new_name, str) or not new_name.strip():
                raise ValueError("åå‰ã¯æœ‰åŠ¹ãªæ–‡å­—åˆ—ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚")
            self._name = new_name
            print(f"åå‰ãŒ {self._name} ã«å¤‰æ›´ã•ã‚Œã¾ã—ãŸã€‚")

        def __str__(self):
            """ç‰¹æ®Šãƒ¡ã‚½ãƒƒãƒ‰ï¼šprint() é–¢æ•°ãªã©ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ–‡å­—åˆ—è¡¨ç¾ã‚’è¿”ã™ã€‚"""
            return f"{self.__class__.__name__}(Name: {self.name}, Sound: {self.sound})"

        @staticmethod  # ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ï¼šã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚„ã‚¯ãƒ©ã‚¹ã«ä¾å­˜ã—ãªã„æ±ç”¨çš„ãªãƒ¡ã‚½ãƒƒãƒ‰
        def show_info():
            """å‹•ç‰©ã«é–¢ã™ã‚‹ä¸€èˆ¬çš„ãªæƒ…å ±ã‚’æä¾›ã™ã‚‹ã€‚"""
            print("å‹•ç‰©ã¯ç”Ÿå‘½ä½“ã®ä¸€ç¨®ã§ã€é€šå¸¸ã¯å‹•ãå›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚")

        @classmethod  # ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ï¼šã‚¯ãƒ©ã‚¹è‡ªä½“ã«ç´ã¥ããƒ¡ã‚½ãƒƒãƒ‰ã€ç¬¬ä¸€å¼•æ•°ã¯ã‚¯ãƒ©ã‚¹è‡ªèº«(cls)
        def get_kingdom(cls):
            """ã‚¯ãƒ©ã‚¹å¤‰æ•° 'kingdom' ã‚’å–å¾—ã™ã‚‹ã€‚"""
            return cls.kingdom

    class Dog(Animal):  # Animalã‚¯ãƒ©ã‚¹ã‚’ç¶™æ‰¿ã™ã‚‹
        """çŠ¬ã‚’è¡¨ã™ã‚¯ãƒ©ã‚¹ã€‚Animalã‚¯ãƒ©ã‚¹ã®å…·ä½“çš„ãªå®Ÿè£…ã€‚"""
        
        # ãƒ¡ã‚½ãƒƒãƒ‰ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ï¼šè¦ªã‚¯ãƒ©ã‚¹ã®speakãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä¸Šæ›¸ãã™ã‚‹
        def speak(self):
            """çŠ¬ã®é³´ãå£°ã‚’è¡¨ç¾ã™ã‚‹ã€‚"""
            print(f"{self.name} says: {self.sound}!")

    class Cat(Animal):
        """çŒ«ã‚’è¡¨ã™ã‚¯ãƒ©ã‚¹ã€‚Animalã‚¯ãƒ©ã‚¹ã®å…·ä½“çš„ãªå®Ÿè£…ã€‚"""
        def speak(self):
            """çŒ«ã®é³´ãå£°ã‚’è¡¨ç¾ã™ã‚‹ã€‚"""
            print(f"{self.name} says: {self.sound}!")

    â–  --- ä½¿ç”¨ä¾‹ ---

    â–  æŠ½è±¡ã‚¯ãƒ©ã‚¹ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã§ããªã„ï¼ˆã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ï¼‰
    animal = Animal("Generic", "sound") 

    â–  å…·ä½“çš„ãªã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–
    dog = Dog("Buddy", "Woof")
    cat = Cat("Whiskers", "Meow")

    â–  ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¨ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—
    dog.speak()
    cat.speak()

    â–  ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆã‚²ãƒƒã‚¿ãƒ¼ã¨ã‚»ãƒƒã‚¿ãƒ¼ï¼‰ã®ä½¿ç”¨
    print(f"Dog's name: {dog.name}")
    dog.name = "Max"  # ã‚»ãƒƒã‚¿ãƒ¼ãŒå‘¼ã°ã‚Œã‚‹
    print(f"Dog's new name: {dog.name}")

    â–  ã‚¯ãƒ©ã‚¹å¤‰æ•°ã®åˆ©ç”¨
    print(f"Kingdom of animals: {Dog.kingdom}")
    print(f"Kingdom via classmethod: {Cat.get_kingdom()}")

    â–  ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã®å‘¼ã³å‡ºã—
    Animal.show_info()

    â–  ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ï¼šç•°ãªã‚‹ã‚¯ãƒ©ã‚¹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’åŒã˜ã‚ˆã†ã«æ‰±ã†
    animals = [dog, cat]
    for animal in animals:
        animal.speak() # å„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®speakãƒ¡ã‚½ãƒƒãƒ‰ãŒé©åˆ‡ã«å®Ÿè¡Œã•ã‚Œã‚‹
        print(animal)  # __str__ ãƒ¡ã‚½ãƒƒãƒ‰ãŒå‘¼ã°ã‚Œã‚‹

- KEY: py.class.singleton
  EXPLAIN: ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³
  BODY: |
    class SingletonConfig:
        """
        ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å®Ÿè£…ã—ãŸè¨­å®šç®¡ç†ã‚¯ãƒ©ã‚¹ã€‚
        A, B, C ã®3ç¨®é¡ã®å¤‰æ•°ã‚’ä¿æŒã™ã‚‹ã€‚
        """
        _instance = None
        _initialized = False

        # ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ãŒä¿æŒã™ã‚‹ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚¯ãƒ©ã‚¹å¤‰æ•°ã¨ã—ã¦åˆæœŸå€¤ã‚’å®šç¾©ï¼‰
        _data = {
            'A': 'Default A Value',
            'B': 123,
            'C': True
        }

        def __new__(cls, *args, **kwargs):
            """
            ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆæ™‚ã«å‘¼ã³å‡ºã•ã‚Œã€å¸¸ã«åŒã˜ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’è¿”ã™ã“ã¨ã‚’ä¿è¨¼ã™ã‚‹ã€‚
            """
            if cls._instance is None:
                cls._instance = super(SingletonConfig, cls).__new__(cls)
            return cls._instance

        def __init__(self):
            """
            åˆæœŸåŒ–ãƒ¡ã‚½ãƒƒãƒ‰ã€‚ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã§ã¯è¤‡æ•°å›å‘¼ã°ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€
            åˆæœŸåŒ–ãƒ•ãƒ©ã‚°ã‚’ä½¿ã£ã¦åˆå›ã®ã¿å®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«åˆ¶å¾¡ã™ã‚‹ã“ã¨ãŒé‡è¦ã€‚
            """
            if not SingletonConfig._initialized:
                print("SingletonConfig: åˆå›åˆæœŸåŒ–ã‚’å®Ÿè¡Œã—ã¾ã—ãŸã€‚")
                SingletonConfig._initialized = True
            else:
                print("SingletonConfig: ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯æ—¢ã«å­˜åœ¨ã—ã¾ã™ã€‚åˆæœŸåŒ–ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã™ã€‚")

        def get_value(self, key: str):
            """æŒ‡å®šã•ã‚ŒãŸã‚­ãƒ¼ï¼ˆA, B, Cï¼‰ã®å€¤ã‚’å–å¾—ã™ã‚‹ã€‚"""
            if key in self._data:
                return self._data[key]
            else:
                raise KeyError(f"ç„¡åŠ¹ãªã‚­ãƒ¼ã§ã™: {key}")

        def set_value(self, key: str, value):
            """æŒ‡å®šã•ã‚ŒãŸã‚­ãƒ¼ï¼ˆA, B, Cï¼‰ã®å€¤ã‚’è¨­å®šã™ã‚‹ã€‚"""
            if key in self._data:
                self._data[key] = value
                print(f"'{key}' ã®å€¤ã‚’ '{value}' ã«æ›´æ–°ã—ã¾ã—ãŸã€‚")
            else:
                raise KeyError(f"ç„¡åŠ¹ãªã‚­ãƒ¼ã§ã™: {key}")

        def display_all(self):
            """å…¨ã¦ã®å¤‰æ•°ã®ç¾åœ¨å€¤ã‚’è¡¨ç¤ºã™ã‚‹ã€‚"""
            print("\n--- Current Configuration ---")
            for key, value in self._data.items():
                print(f"{key}: {value}")
            print("-----------------------------\n")

    â–  --- ä½¿ç”¨ä¾‹ ---

    â–  1. æœ€åˆã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã™ã‚‹ï¼ˆåˆå›åˆæœŸåŒ–ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼‰
    config1 = SingletonConfig()
    config1.display_all()

    â–  2. 2ç•ªç›®ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—ã‚ˆã†ã¨ã™ã‚‹ï¼ˆåˆæœŸåŒ–ã¯ã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã‚‹ãŒã€åŒã˜ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æŒ‡ã™ï¼‰
    config2 = SingletonConfig()
    print(f"config1 is config2: {config1 is config2}") # True ã«ãªã‚‹

    â–  3. config1 ã‚’é€šã˜ã¦å¤‰æ•° 'A' ã‚’æ›´æ–°ã™ã‚‹
    config1.set_value('A', 'Updated A Value by config1')
    config1.set_value('B', 999)

    â–  4. config2 ã‚’é€šã˜ã¦å¤‰æ›´å¾Œã®å€¤ã‚’å–å¾—ã™ã‚‹ï¼ˆåŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’è¦‹ã¦ã„ã‚‹ãŸã‚å€¤ãŒåæ˜ ã•ã‚Œã¦ã„ã‚‹ï¼‰
    print(f"Value of B using config2: {config2.get_value('B')}")

    â–  5. å…¨ã¦è¡¨ç¤ºã—ã¦ã¿ã‚‹
    config2.display_all()

- KEY: py.class.dunder
  EXPLAIN: ãƒ€ãƒ³ãƒ€ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰
  BODY: |
    class Person:
        """person class"""
        city: str = ""  # ã‚¯ãƒ©ã‚¹å¤‰æ•°
        def __init__(self, name, age) -> None:
            """person class ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿"""
            self.name = name
            self.age = age

        def __repr__(self) -> str:
            return f"repr => name:{man.name} age:{man.age}"

        def __str__(self) -> str:
            return f"str => name:{man.name} age:{man.age}"

        def __eq__(self, other: object) -> bool:
            if not isinstance(other, Person):
                return NotImplemented
            return self.__dict__ == other.__dict__
            # =return self.name == other.name and self.age == other.age

    man: Person = Person("John", 10)
    pan: Person = Person("John", 10)

    print(f"name:{man.name} age:{man.age}")  # name:John age:10
    print(man)              # str => name:John age:10
    print(repr(man))        # repr => name:John age:10
    print(f"{man}")         # str => name:John age:10
    print(man == pan)       # True
    print(man.__dict__)     # {'name': 'John', 'age': 10}

- KEY: py.class.dunder.number
  EXPLAIN: ãƒ€ãƒ³ãƒ€ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰(æ•°)
  BODY: |
    class XMath:
        def __init__(self, value):
            self.value = value
        def __add__(self, other):
            return self.value + other.value
        def __sub__(self, other):
            return self.value - other.value
        def __mul__(self, other):
            return self.value * other.value
        def __truediv__(self, other):
            return self.value / other.value
        def __floordiv__(self, other):
            return self.value // other.value

    xmath1 = XMath(10)
    xmath2 = XMath(20)

    print(xmath1 + xmath2)   # 30
    print(xmath1 - xmath2)   # -10
    print(xmath1 * xmath2)   # 200
    print(xmath1 / xmath2)   # 0.5
    print(xmath1 // xmath2)  # 0

- KEY: py.class.inheritance
  EXPLAIN: ã‚¯ãƒ©ã‚¹ç¶™æ‰¿
  BODY: |
    class School:
        def __init__(self, schoolName) -> None:
            self.schoolName = schoolName

        def getSchool(self):
            return self.schoolName

    class Student(School):
        def __init__(self, school, name) -> None:
            super().__init__(school)
            self.name = name

        def __str__(self) -> str:
            return f"School:{self.getSchool()} name:{self.name}"

    Karen = Student("æ±å¤§", "Karen")  # School:æ±å¤§ name:Karen

- KEY: py.class.meta
  EXPLAIN: ãƒ¡ã‚¿ã‚¯ãƒ©ã‚¹
  BODY: |
    # ãƒ¡ã‚¿ã‚¯ãƒ©ã‚¹ã¯typeã‚’ç¶™æ‰¿ã™ã‚‹
    class MetaClass(type):
        # name:ã‚¯ãƒ©ã‚¹å, bases:è¦ªã‚¯ãƒ©ã‚¹, attributes:ã‚¯ãƒ©ã‚¹å±æ€§
        def __new__(meta, name, bases, attributes):
            if bases != (object,):  # æŠ½è±¡ã‚¯ãƒ©ã‚¹ã¯æ¤œè¨¼ã—ãªã„
                if attributes["age"] < 20:
                    raise ValueError("No Class Allowed")
            return type.__new__(meta, name, bases, attributes)

    class People(object, metaclass=MetaClass):
        age: int | None = None

    class John(People):
        age = 25

    class Smith(People):
        age = 18           # Raise Error

- KEY: py.class.lib.dataclasses
  EXPLAIN: ãƒ€ãƒ³ãƒ€ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰è‡ªå‹•ç”Ÿæˆ
  BODY: |
    from dataclasses import dataclass

    @dataclass
    class Movie:
        name: str
        year: int

    starwars1 = Movie("Star wars", 1979)
    starwars2 = Movie(year=1979, name="Star wars")

    print(starwars1)               # Movie(name='Star wars', year=1979)
    print(starwars1 == starwars2)  # True

#-------------------------------
# Class Decorator
#-------------------------------

- KEY: py.class.decorator
  EXPLAIN: ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿
  BODY: |
    def switch_type(func):
        def wrapper(*args, **kwargs):
            # --------------------------------------
            new_args = [f"[{str(a)}]" for a in args]
            # --------------------------------------
            return func(*new_args, **kwargs)  # ãƒ‘ãƒ©ãƒ¡ã‚¿ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰
        return wrapper

    @switch_type
    def add(x, y):
        return x + y

    print(add(1, 2))      # [1][2]
    print(add("a", "b"))  # [a][b]

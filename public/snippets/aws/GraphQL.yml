---
#-------------------------------
# GraphQL
#-------------------------------
- ENTRY:
  CATEGORY: GraphQL For Amplify

- ENTRY:
  EXPLAIN: 概要
  BODY: |
    ■ GraphQL For Amplify

    ・AWS Amplifyで提供されるGraphQL APIサービス
    ・AppSyncを基盤とし、フルマネージドでスケーラブルなGraphQL APIを構築可能
    ・リアルタイムデータ同期、オフライン対応、認証・認可などの機能を提供

    ■ 主な機能

- ENTRY:
  EXPLAIN: デコレータ
  BODY: |
    ■ デコレータ概要 (gen1)

    ・GraphQLスキーマに注釈を追加するための特別なコメント
    ・Amplify CLIがデコレータを解析し、対応するリソースや設定を自動生成
    ・デコレータを使用して、認証ルール、関係性、インデックスなどを定義可能
    ・gen1 (従来のAmplify GraphQL API) で使用。スキーマファーストアプローチ。

    ■ Amplify Gen2 (新しいアプローチ)

    ・TypeScriptベースのコードファーストアプローチ
    ・デコレータではなく、クラス/関数/型定義でデータモデルを定義
    ・defineData() 関数を使用してスキーマを構築
    ・より柔軟で型安全な開発が可能
    ・gen1のデコレータはgen2では使用しない


    ■ デコレータ一覧 (gen1)

    @model                              DynamoDBテーブルとGraphQLタイプを定義
    @auth                               認証と認可ルールを設定
    @key                                プライマリキーやGSIを定義
    @connection                         モデル間の関係性を定義
    @function                           Lambda関数との統合
    @searchable                         Elasticsearchとの統合で検索機能
    @versioned                          楽観的同時実行制御
    @ttl                                TTL (Time To Live) を設定
    @http                               HTTPデータソースとの統合
    @predictions                        AI/MLサービスとの統合
    @belongsTo                          一対多関係の逆参照
    @hasOne                             一対一関係
    @hasMany                            一対多関係
    @manyToMany                         多対多関係
    @index                              GSI (Global Secondary Index) を定義

- ENTRY:
  EXPLAIN: |
    @model
  BODY: |
    ■ @model デコレータ

    ・GraphQLタイプをDynamoDBテーブルにマッピング
    ・CRUD操作のためのリゾルバーを自動生成
    ・基本的なデータモデルを定義するために使用

    ■ 使用例

    type Post @model {
      id: ID!
      title: String!
      content: String
      createdAt: AWSDateTime
      updatedAt: AWSDateTime
    }

    ■ 解説

    ・`Post` タイプがDynamoDBテーブルにマッピング
    ・Amplify CLIは、このモデルに基づいてCRUDリゾルバーを自動生成
